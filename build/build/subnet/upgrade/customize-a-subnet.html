<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-build/subnet/upgrade/customize-a-subnet" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Customize Your EVM-Powered Subnet | Lux Network Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://docs.lux.network/img/Lux-OG-Image.png?force-reload-1"><meta data-rh="true" name="twitter:image" content="https://docs.lux.network/img/Lux-OG-Image.png?force-reload-1"><meta data-rh="true" property="og:url" content="https://docs.lux.network/build/subnet/upgrade/customize-a-subnet"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:description" content="The fastest, most reliable smart contracts platform in the world. Build anything you want, any way you want, on the eco-friendly blockchain designed for Web3 devs."><meta data-rh="true" name="twitter:title" content="Lux Network Docs: Create Without Limits"><meta data-rh="true" name="keywords" content="Lux Network Docs: Create Without Limits"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Customize Your EVM-Powered Subnet | Lux Network Docs"><meta data-rh="true" name="description" content="How to customize a Subnet by utilizing Genesis, Precompile, and Blockchain Configs."><meta data-rh="true" property="og:description" content="How to customize a Subnet by utilizing Genesis, Precompile, and Blockchain Configs."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.lux.network/build/subnet/upgrade/customize-a-subnet"><link data-rh="true" rel="alternate" href="https://docs.lux.network/build/subnet/upgrade/customize-a-subnet" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://docs.lux.network/build/subnet/upgrade/customize-a-subnet" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://UAFD8IBIF7-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-MHVBTGVC",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>


<link rel="search" type="application/opensearchdescription+xml" title="Lux Network Docs" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="84b0d351-622f-46b4-80c9-f1d9850e34b6" data-project-name="LuxGPT" data-project-color="#black" data-project-logo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANEAAADQCAYAAACZZoRKAAAQHUlEQVR4nO2dPVBc1xXHrySMrQ9LJClWnZhBPaSWZqTZnYncmZjUARVxZqIGuZBKk6SyC3lTOEVSiE0d2aizMgOBmbg29GICnbZwImRJthVpyJzlPHjsfbv7Pu7Huff9fzMM6D1WLLA/zrnn3nvuif39fQXs0222ZpRSE0qp5P0kvyl+f6nkk9hSSj3ljzf5453krbG2uqM9AhgFEhmGZZlhMa5XFMQUWywVSbZO7xtrq0/dfOn4gUQV6DZbEyzKDL+/FtDT301Jtd5YW93UPgPkAhIVpNtskSyzLM10UE9+OHuJUJCqGJBoBBxtZlPiXBj+iGigSLXCQq3U5HsuBSTKoE+c9/XPqB17LNRyY211ve4/jH4gUQpO1RaUUvPaTZCQRKg2Kn8H1F4ijjqLLI/vKlpobHB0Wq7zD6G2EnEpehFRxwiU7rU5OtWudF47iThlWwqsHB0SHfr51inVq41E3WZrgSNPTGVpydRGpugl4sjThjzeiF6maCVC2iYOkmkxxjFTdBJ1m61JlgcFA3nscfFhKaZvKiqJus3WEo976rKqIFR2OSpFsRIiCok4dVvGPE9wPGSZgh4vBS0RT5QuY2lO0Oxx4aEd6jcRrETdZmuWBULqFge0+mEhxKgUnEQcfdooHERJkFEpKIl4qc4Kxj7R85CjUhDl8JPaFaFw5e0bCFQLaIy7wwUj8YiPRCge1J7b0tM70RIhfQOM6PRObDrHC0bXIRDgLGSdV6OIQ6REPP65j/I1SEELiDc5OxGFOIm6zRaNfz7WbgBw8Ef1G85SxCBmTMQFhBWsugY5uSllW7oIiVigdez5AQXpNNZWvUcl7+kcBAIVmOf03yteJYJAwADeRfImEQQCBvEqkheJIBCwgDeRnEsEgYBFvIjkVCIIBBzgXCTXkQgCARfMu5yQdSYR/3WAQMAV912J5EQiXguHnajANW0Xa+2sr1jgvwb3tRsAuIG2nM/Y7N1gVSL+K7CO1djAM3Tw83Vb+5GspXOpBaUQCPhmmpvbWMHmmAg7UoEkqGK3aOP5WJGICwnY0gCk8ZmNQoPxMRF3aPmndgMAGexyocHY+MhoJEqNgwCQyiXuHmUM0+kc2vqCEHif21AbwVg6x0/qS+1GQJw4d069dXlKjU8fpM1jl6d618ARrx9vq/3nz9Wb7hP15skT9WpzK9SfjrH5IyMScRq3E2IUGrt8WZ2+cUO9ffWKOtVoaPfBaF5tbakf//W1+vHrr3tiBcRGY221cpdVUxKthNShlKILiXPmV3MQxzAk0ssHD0KKUJUbnlSWKLQ07tz8fE+eE2fPaveAOSg6veh0QpCJ0rrJKtW6ShKFlMaNz0yr83fvIvI45uWDL9TzTqc3jhJMpa5BVatzSyEIRNHnJ/fuQSAPnJn7QP3sr3/pjT0FM1/lBIrSkYj7Iv9buyEIGvtM/PEPanwa25gk8OzTT9X3Xz2S+vS2GmurpVYzVIlEIrpPDoIE+uln9yCQIM7fuaNOv3dD6tObLruJr1Qkkr60JxFobGpKuwf8IzgilSoylI1EoqMQBJKN4IhE4/vCK70LS8QhT+wWB6rAQSD5kEhCiw2LXHXOTZlItKRdEQKtOjh94xdSnx7og4o+ApdVXSi6ga+QRJKjEP0yLty9q10HcqEpB5p+EMh8kVP5ikYisVHo3Vu3sAohQGgeiSbCBZL7tZ5bIslR6NTFi0jjAuaszGg0m3dsVCQSiY1CQn8JICc0lycwGuWu1OWSiOeFEIWANd658Z7EH26uSl3eSCS3InflinYNhAf9IRRaqRu5A3akRFylENu5R/AyElCQd66K/IM4MoDkiURWenWZgFI5TKzGg9Cs4tKoFd55JPJ+OvMghJZGQUnGZ6z3ni/LUAeGSsRlbbH7hcamRO9RAQWheT6hS4HmhxUYhkokOQop7sYTO6+3t3tbrel9HTh1UezGyYEuDJRIekGBeEv2bsnKUNOPb3/zofrv7Y9670mm2HlLbnZRXKI8pT3fxL7M57vP/3zs388++VT7HOCM6UHr6YZJNNA8YB9q8NHfw43+/f2jf0T90z958aJ2TRCZgSVTIjYOpS9P7L940euQkwW1oaL7sSJ4TKQGBZZMiQYZB9zw8u8PBraYomhE94EXMlO6QRJlGgfs86bbHRiFEug+fR7wghZgNIm4Ho5UzhMvRgiU8N3nn2vXgBNGS5T1ScANVMLO2wWHGsjXoeQtkGv9E69ZEg1dJwTskTcKJaDk7Y1jjmRJhEjkASpdF23+3isyPPhCuw6sM1giPhQWJ915oGgUSngeeclbKMcCTX8kQirngRedv2kTq3mhUjiKDM65lB4X9Uskdi16rFAUefGg2rwPFSNQ8nbOYcBBJPLM82UzZ/cgGjlHl4jDk9j2wDFC0eNlxSiUIPwQrRg5zNrSkQipnGOeffJJrb7fyDjcJpSWCKmcQ2iiNODj68FRNRuRyBf9e4WqMj6NX58HeotR0xJpq1OBHWhi9fXjx8b+b+pLQCeiA+dokQiLTh3QK2mXnFjN4uA0jDto5u+HI4mS3A7Yh/YClZ1YzeLs3Bx67/njWDo3sB0QMIeJidU01LwSaZxXetlbIhEqcw6gCVGT8zl0GgbSOL/QTtesVdzAAtQ3zuSJ2TgNQwyTiESOML0sB2cyiWECkcgBpidWEYVEMZNIhDkii5jegYooJIsxfjZYeGoJmlg1WdIuEoXoa//w6Kvex9T8/91bv9M+B1Rmcgw/Q3tQSdvXWCj52kk1kNLJt69e6Z2PCoyC6pxNhjVhLAMt78kbhbK+tsmVEuCIk6NOAQPloL1CJidWibzp2KAGkBSNYu/l7QNEIkv0emYbjEJ0KmDeVGzYPqVeiofGJiZBOmeDIk0Y85J3LDSqnE5io5e3US5BIguYHnsUi0Kjy+no5W0WSGQYOt1uWCQoQ94oVKT11rCUDxQDEhnG+I7VnFGoaCGDRCfhQXUgkUGyTrerSv4oVLyQYVr4ugKJDDHsdLuy5I1CZQsZJDylgKAakMgQppowpjl/9652LYsqEYVSQBQZqgGJDGCyCWPC6fduqFON0eeXUgpZpekJenlXBxIZwMaLMM9YyFQKiQPDKrELiSpCUYhehCY5MzeXKwrROMhUCokiQ2l2TjbWVtcDffIi+MHwygRqgXVuIV9FzmQKSSkh1tWVA5GoAqa79yhugZWn+YjpfUpEsvfIJyE25odEFaAX+ztXrxj7/6iYcHb+19r1LKj8TVHLJBJaEb9+vK1dE85OsilvF7tby3H+zh11qnFRvdraLP1/0G5VKiTkGQcdPqbRUOfm540VNWivUl6BwTEOJdqBROWhF99Z5f4FeGbuAzV2eUr9r+JavZOCGp+86ZpNUV2A7eGBQysaYtrybXqc54DNZEyECh0QQYBnNj1FYQGIIdAJ3x1EIiAG05PWLmisrR5K9BQvJeCbAPc39UJnT6LG2mr5+iwABqBULsCiAlW1j022YgUi8MYPj8wun3JEL/ikJdrBSwj4gBbxmu6O5AhNIqR0wAsB72fS0jlU6IBzaCwUYlVOpWoJiETAG7QK3vSxMw7ZSL7UoUSNtdWnvBAVACdQGhdgRS7hMOj0r1hASgecQPuhAi0mJBy60i8RUjpgHRIogg6sAyVCJAJWiUSgXR7+9DgmEVcb9rSHAGCASAQiVtL/yFrFvaJdAaAi1E0ooib6xzK2LImQ0gFjvN7eVt9++FvjzS09c8yRrJ2tFInua1cBKADNAdFhYqb7kwtgIz0eUlkS0Sd0my1ajIpjpkFhEnmolViI7a9yoA13NImYZaXUZ9pVADIgcV5tbqrvHz0KdglPAXJLtAKJQBbJFu43T7q9rqmvtx+H2BehLFu0k7X/sZkS0ScipcsPDZ7/c/ujWNMXcMRy1s8iqzqXkPkAcBwIVCu0VE6NkCjzAeAICFQrMlM5NUwifsCGdgP0gEC1Y2BmNlAiZuAD6wwEqiUDXRgqUWNtdRlr6Y4DgWpJp3+CNc1QiZiBBtYNCFRbhjqQR6K2dqWGQKDasjvqNMmREqHAAIFqztKobz9vQ/uR/1GsQKBas5dnqieXRBzOatfEBALVnvawgkJCkaNVahWNIFDt2ctbD8gtEZe7axGNIBCgNC5PFFIlTg+PPhpBIMDkfq0Xkij2aASBANMZtE4uizLHTUYZjSAQYGgstFjkh1FYohijEQQCKXJV5NKUPfh4QbsSKBAIpMhdkUtTSiKeNwp+FQMEAn0sFo1CqkIkUqFHIwgE+tjioUphSkvE1Ys/aTcCAAKBDAoVE9JUiUSKK3Xe9huRDGUeA4FAH51RK7WHUUkizh+9pXVFz7eBQCCDwiXtfqpGIhKJVrk+1G44gPo7541GEAgMoFQxIU1liZgFX2kdiZE0FBwE3YdAIIONssWENCf29/e1i2XoNluzSqkvff2m3r56RY1Pz6jxmWk1NjXVu0bRh6JV4McaAjvQH/2ZIst7BmFMInUgEqV272s3AJDHL3koUhlT6VyCt7QOgAI8NCWQMi0RD9BmtRsAyGHXdEXZdCRKlgT9XrsBgAxmq1bj+jEukToQaanuHYKASG7z4d5GsSIRM1vH5iZALLQqwUoPRWsSpcZHKDQA32xVXZUwDJuRSHHotPbkAcjBno1xUBqrEqmjnbAoNAAfkEDXTUyoDsO6ROqo0BDdWexAPIs2Cgn9GF2xMIpus7WJc2CBI26aWBeXByeRKMV1HuQBYJOOK4GUa4l4cAeRgE1IIKd73FxHIogEbOJcIOVDIgWRgB28CKR8SaQgEjCLN4GUT4kURAJm8CqQ8i2RgkigGt4FUhIkUsdFwspvkJebEgRSridb89Bttqi+Py/qSQFpOJtIzYOISJSG/7pgrR3IgtbC/VySQEqiROpord1NbKMAKba4O4/1tXBFEZfOpek2WzN8BPol7SaoE9QcdMHmdoYqiJZIHYg0oZRaRiuu2nLb1o5UU4iXKKHbbFGK97F2A8RKspmudKN5VwQjkUJ6VydEp2/9BCWROkrv2iiDRwlFnyXp6Vs/wUmUwL2/aax0QbsJQmSDo4/Vrdw2CFYihaJDLAQZfdIELVFCt9m6zjJhrBQWD7kPQnDRJ00UEiVwBW8RKZ54dlkeY03lfRKVROpApEk+SxaFB3lQ6tbmFSnREJ1ECZzi0S/rmnYT+KBj4mhHiUQrUQLL1EarLm90uHAQ9LhnGNFLlNBtthZ4vASZ3BC9PAm1kSgBaZ51aiNPQu0kSuAlRIsoQBhhj1PmdoxjnlHUVqIEnrBd5CMIMc9UDFplsCxtk5xrai9RGk71FhCdhrLLi4DbdUrZhgGJMuDoNMtvWFJ0kK6tcNQRvzXBNZBoBH1CXa/Raogk4qzHsrLAFpCoIJzyJULFVC6naLOevEnsZSAVSFQBjlIk0wy/D6lsTpFmE9JUBxIZhkvn9DbJYk0KqPpRp5ydlDSbdSxF2wISOYLlmmDBJliuSf7qVUQjQRIhNvnjneQNFTTLKKX+D7rIQEhQx22LAAAAAElFTkSuQmCC" async></script><link rel="stylesheet" href="/assets/css/styles.fe44cdd7.css">
<script src="/assets/js/runtime~main.1e23a162.js" defer="defer"></script>
<script src="/assets/js/main.8ee501ad.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MHVBTGVC" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Lux_Horizontal_Red.svg" alt="Lux Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/Lux_Horizontal_Red.svg" alt="Lux Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/intro">Learn</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Build</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/build/dapp">Dapps</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/build/subnet">Subnets</a></li><li><a class="dropdown__link" href="/build/vm">Virtual Machines</a></li></ul></div><a class="navbar__item navbar__link" href="/nodes">Nodes</a><a class="navbar__item navbar__link" href="/tooling">Tooling</a><a class="navbar__item navbar__link" href="/reference">Reference</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/build/subnet/upgrade/customize-a-subnet" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">English</a></li></ul></div><a href="https://chat.lux.network/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord-link"></a><a href="https://github.com/luxdefi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><span class="menu__item"><b><medium> ‚ñº Lux Subnets </medium></b></span></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/build/subnet">üîó Quick Links</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/build/subnet/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/build/subnet/c-chain-vs-subnet">C-Chain or Subnet?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/build/subnet/hello-subnet">Build Your First Subnet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><span class="menu__item"><b><medium> Deploy a Subnet </medium></b></span></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/build/subnet/deploy/local-subnet">On a Local Network</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/build/subnet/deploy/testnet-subnet">On Testnet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/build/subnet/deploy/mainnet-subnet">On Lux Mainnet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/build/subnet/deploy/on-prod-infra">On Production Infrastructure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/build/subnet/deploy/multisig-auth">With Multisig Authorization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/build/subnet/deploy/custom-vm-subnet">With a Custom Virtual Machine</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><span class="menu__item"><b><medium> Elastic Subnets </medium></b></span></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/build/subnet/elastic/transform-to-elastic-subnet">Make Subnet Permissionless</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/build/subnet/elastic/elastic-parameters">Parameters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><span class="menu__item"><b><medium> Manage Subnets </medium></b></span></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/build/subnet/maintain/view-subnets">Maintain</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/build/subnet/utility/deploy-smart-contract-to-subnet">Add Utility</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/build/subnet/upgrade/considerations-subnet-upgrade">Upgrade</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/build/subnet/upgrade/considerations-subnet-upgrade">Considerations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/build/subnet/upgrade/customize-a-subnet">Customize a Subnet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/build/subnet/upgrade/upgrade-subnet-vm">Subnet Virtual Machine</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/build/subnet/upgrade/upgrade-precompile">Subnet Precompile Config</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tooling/cli">üìé Lux-CLI: Subnets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/nodes/run/subnet-node">Subnet Nodes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/build/subnet/info/wagmi">Case Study: WAGMI Subnet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/build/subnet/info/troubleshoot-subnet">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://support.lux.network/en/articles/6158840-subnet-faq" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">‚ùìFAQ<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Upgrade</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Customize a Subnet</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Customize Your EVM-Powered Subnet</h1>
<p>All Subnets can be customized by utilizing <a href="#subnet-configs"><code>Subnet Configs</code></a>.</p>
<p>A Subnet can have one or more blockchains. For example, the Primary Network, which is a Subnet, a
special one nonetheless, has 3 blockchains. Each chain can be further customized using chain specific
configuration file. See <a href="/nodes/configure/chain-config-flags">here</a> for detailed explanation.</p>
<p>A blockchain created by or forked from <a href="https://github.com/luxdefi/subnet-evm" target="_blank" rel="noopener noreferrer">Subnet-EVM</a> can be
customized by utilizing one or more of the following methods:</p>
<ul>
<li><a href="#genesis">Genesis</a></li>
<li><a href="#precompiles">Precompile</a></li>
<li><a href="#network-upgrades-enabledisable-precompiles">Upgrade Configs</a></li>
<li><a href="#luxd-chain-configs">Chain Configs</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="subnet-configs">Subnet Configs<a href="#subnet-configs" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h2>
<p>A Subnet can customized by setting parameters for the following:</p>
<ul>
<li><a href="/nodes/configure/subnet-configs#validatoronly-bool">Validator-only communication to create a private Subnet</a></li>
<li><a href="/nodes/configure/subnet-configs#consensus-parameters">Consensus</a></li>
<li><a href="/nodes/configure/subnet-configs#gossip-configs">Gossip</a></li>
</ul>
<p>See <a href="/nodes/configure/subnet-configs">here</a> for more info.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="genesis">Genesis<a href="#genesis" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h2>
<p>Each blockchain has some genesis state when it‚Äôs created. Each Virtual Machine defines the format and
semantics of its genesis data.</p>
<p>The default genesis Subnet-EVM provided below has some well defined parameters:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;config&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;chainId&quot;: 43214,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;homesteadBlock&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;eip150Block&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;eip150Hash&quot;: &quot;0x2086799aeebeae135c246c65021c82b4e15a2c451340993aacfd2751886514f0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;eip155Block&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;eip158Block&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;byzantiumBlock&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;constantinopleBlock&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;petersburgBlock&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;istanbulBlock&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;muirGlacierBlock&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;subnetEVMTimestamp&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;feeConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;gasLimit&quot;: 15000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;minBaseFee&quot;: 25000000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;targetGas&quot;: 15000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;baseFeeChangeDenominator&quot;: 36,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;minBlockGasCost&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;maxBlockGasCost&quot;: 1000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;targetBlockRate&quot;: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;blockGasCostStep&quot;: 200000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;allowFeeRecipients&quot;: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;alloc&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;balance&quot;: &quot;0x295BE96E64066972000000&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;nonce&quot;: &quot;0x0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;timestamp&quot;: &quot;0x0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;extraData&quot;: &quot;0x00&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;gasLimit&quot;: &quot;0xe4e1c0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;difficulty&quot;: &quot;0x0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;mixHash&quot;: &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;coinbase&quot;: &quot;0x0000000000000000000000000000000000000000&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;number&quot;: &quot;0x0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;gasUsed&quot;: &quot;0x0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;parentHash&quot;: &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chain-config">Chain Config<a href="#chain-config" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h3>
<p><code>chainID</code>: Denotes the ChainID of to be created chain. Must be picked carefully since a conflict with
other chains can cause issues. One suggestion is to check with <a href="https://chainlist.org/" target="_blank" rel="noopener noreferrer">chainlist.org</a>
to avoid ID collision, reserve and publish your ChainID properly.</p>
<p>You can use <code>eth_getChainConfig</code> RPC call to get the current chain config. See
<a href="/reference/subnet-evm/api#ethgetchainconfig">here</a> for more info.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hard-forks">Hard Forks<a href="#hard-forks" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h4>
<p><code>homesteadBlock</code>, <code>eip150Block</code>, <code>eip150Hash</code>, <code>eip155Block</code>, <code>byzantiumBlock</code>, <code>constantinopleBlock</code>,
<code>petersburgBlock</code>, <code>istanbulBlock</code>, <code>muirGlacierBlock</code>, <code>subnetEVMTimestamp</code> are hard fork activation
times. Changing these may cause issues, so treat them carefully.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fee-config">Fee Config<a href="#fee-config" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h4>
<p><code>gasLimit</code>: Sets the max amount of gas consumed per block. This restriction puts a cap on the
amount of computation that can be done in a single block, which in turn sets a limit on the
maximum gas usage allowed for a single transaction.
For reference, C-Chain value is set to <code>15,000,000</code>.</p>
<p><code>targetBlockRate</code>: Sets the target rate of block production in seconds. A target of 2 will target
producing a block every 2 seconds. If the network starts producing blocks at a faster rate, it
indicates that more blocks than anticipated are being issued to the network, resulting in an
increase in base fees.
For C-chain this value is set to <code>2</code>.</p>
<p><code>minBaseFee</code>: Sets a lower bound on the EIP-1559 base fee of a block. Since the block&#x27;s base fee sets
the minimum gas price for any transaction included in that block, this effectively sets a minimum gas
price for any transaction.</p>
<p><code>targetGas</code>: Specifies the targeted amount of gas (including block gas cost) to consume within a
rolling 10-seconds window. When the dynamic fee algorithm observes that network activity is
above/below the <code>targetGas</code>, it increases/decreases the base fee proportionally to how far above/below
the target actual network activity is. If the network starts producing blocks with gas cost higher than
this, base fees are increased accordingly.</p>
<p><code>baseFeeChangeDenominator</code>: Divides the difference between actual and target utilization to determine
how much to increase/decrease the base fee. A larger denominator indicates a slower changing, stickier
base fee, while a lower denominator allows the base fee to adjust more quickly.
For reference, the C-chain value is set to <code>36</code>. This value sets the
base fee to increase or decrease by a factor of <code>1/36</code> of the parent block&#x27;s
base fee.</p>
<p><code>minBlockGasCost</code>: Sets the minimum amount of gas to charge for the production of a block.
This value is set to <code>0</code> in C-Chain.</p>
<p><code>maxBlockGasCost</code>: Sets the maximum amount of gas to charge for the production of a block.</p>
<p><code>blockGasCostStep</code>: Determines how much to increase/decrease the block gas cost depending on the
amount of time elapsed since the previous block.</p>
<p>If the block is produced at the target rate, the block gas cost will stay the same as the block gas
cost for the parent block.</p>
<p>If it is produced faster/slower, the block gas cost will be increased/decreased by the step value for
each second faster/slower than the target block rate accordingly.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If the <code>blockGasCostStep</code> is set to a very large number, it effectively requires block production to
go no faster than the <code>targetBlockRate</code>. For example, if a block is produced two seconds faster than
the target block rate, the block gas cost will increase by <code>2 * blockGasCostStep</code>.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="custom-fee-recipients">Custom Fee Recipients<a href="#custom-fee-recipients" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h4>
<p>See section <a href="#setting-a-custom-fee-recipient">Setting a Custom Fee Recipient</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="alloc">Alloc<a href="#alloc" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h3>
<p>See section <a href="#setting-the-genesis-allocation">Setting the Genesis Allocation</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="header">Header<a href="#header" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h3>
<p>The fields <code>nonce</code>, <code>timestamp</code>, <code>extraData</code>, <code>gasLimit</code>, <code>difficulty</code>, <code>mixHash</code>, <code>coinbase</code>,
<code>number</code>, <code>gasUsed</code>, <code>parentHash</code> defines the genesis block header. The field <code>gasLimit</code> should be
set to match the <code>gasLimit</code> set in the <code>feeConfig</code>. You do not need to change any of the other genesis
header fields.</p>
<p><code>nonce</code>, <code>mixHash</code> and <code>difficulty</code> are remnant parameters from Proof of Work systems.
For Lux, these don&#x27;t play any relevant role, so you should just leave them as their
default values:</p>
<p><code>nonce</code>: The result of the mining process iteration is this value. It can be any value in
the genesis block. Default value is <code>0x0</code>.</p>
<p><code>mixHash</code>: The combination of <code>nonce</code> and <code>mixHash</code> allows to verify that the Block has really been
cryptographically mined, thus, from this aspect, is valid. Default value is <code>0x0000000000000000000000000000000000000000000000000000000000000000</code>.</p>
<p><code>difficulty</code>: The difficulty level applied during the nonce discovering process of this block.
Default value is <code>0x0</code>.</p>
<p><code>timestamp</code>: The timestamp of the creation of the genesis block. This is commonly set to <code>0x0</code>.</p>
<p><code>extraData</code>: Optional extra data that can be included in the genesis block. This is commonly set to <code>0x</code>.</p>
<p><code>gasLimit</code>: The total amount of gas that can be used in a single block. It should be set to
the same value as in the <a href="#fee-config">fee config</a>. The value <code>e4e1c0</code> is
hexadecimal and is equal to <code>15,000,000</code>.</p>
<p><code>coinbase</code>: Refers to the address of the block producers. This also means it represents the
recipient of the block reward. It is usually set
to <code>0x0000000000000000000000000000000000000000</code> for the genesis block. To allow fee recipients in
Subnet-EVM, refer to <a href="#setting-a-custom-fee-recipient">this section.</a></p>
<p><code>parentHash</code>: This is the Keccak 256-bit hash of the entire parent block‚Äôs header. It is
usually set to
<code>0x0000000000000000000000000000000000000000000000000000000000000000</code> for the
genesis block.</p>
<p><code>gasUsed</code>: This is the amount of gas used by the genesis block. It is usually set to <code>0x0</code>.</p>
<p><code>number</code>: This is the number of the genesis block. This required to be <code>0x0</code> for the genesis.
Otherwise it will error.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="genesis-examples">Genesis Examples<a href="#genesis-examples" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h3>
<p>Another example of a genesis file can be found in the
<a href="https://github.com/luxdefi/public-chain-assets/blob/1951594346dcc91682bdd8929bcf8c1bf6a04c33/chains/11111/genesis.json" target="_blank" rel="noopener noreferrer">networks folder</a>.
Note: please remove <code>airdropHash</code> and <code>airdropAmount</code> fields if you want to start with it.</p>
<p>Here are a few examples on how a genesis file is used:</p>
<ul>
<li><a href="https://github.com/luxdefi/subnet-evm/blob/master/scripts/run.sh#L99" target="_blank" rel="noopener noreferrer">scripts/run.sh</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setting-the-genesis-allocation">Setting the Genesis Allocation<a href="#setting-the-genesis-allocation" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h3>
<p>Alloc defines addresses and their initial balances. This should be changed accordingly for each chain.
If you don&#x27;t provide any genesis allocation, you won&#x27;t be able to interact with your new chain (all
transactions require a fee to be paid from the sender&#x27;s balance).</p>
<p>The <code>alloc</code> field expects key-value pairs. Keys of each entry must be a valid <code>address</code>. The <code>balance</code>
field in the value can be either a <code>hexadecimal</code> or <code>number</code> to indicate initial balance of the address.
The default value contains <code>8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC</code> with <code>50000000000000000000000000</code>
balance in it. Default:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;alloc&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;balance&quot;: &quot;0x295BE96E64066972000000&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To specify a different genesis allocation, populate the <code>alloc</code> field in the genesis JSON as follows:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;alloc&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;balance&quot;: &quot;0x52B7D2DCC80CD2E4000000&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Ab5801a7D398351b8bE11C439e05C5B3259aeC9B&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;balance&quot;: &quot;0xa796504b1cb5a7c0000&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The keys in the allocation are <a href="https://en.wikipedia.org/wiki/Hexadecimal" target="_blank" rel="noopener noreferrer">hex</a> addresses
<strong>without the canonical <code>0x</code> prefix</strong>. The balances are denominated in Wei
(<a href="https://eth-converter.com/" target="_blank" rel="noopener noreferrer">10^18 Wei = 1 Whole Unit of Native Token</a>) and expressed as hex strings
<strong>with the canonical <code>0x</code> prefix</strong>. You can use <a href="https://www.rapidtables.com/convert/number/hex-to-decimal.html" target="_blank" rel="noopener noreferrer">this converter</a>
to translate between decimal and hex numbers.</p>
<p>The above example yields the following genesis allocations (denominated in whole units of the native
token, that is 1 LUX/1 WAGMI):</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC: 100000000 (0x52B7D2DCC80CD2E4000000=100000000000000000000000000 Wei)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0xAb5801a7D398351b8bE11C439e05C5B3259aeC9B: 49463 (0xa796504b1cb5a7c0000=49463000000000000000000 Wei)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setting-a-custom-fee-recipient">Setting a Custom Fee Recipient<a href="#setting-a-custom-fee-recipient" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h3>
<p>By default, all fees are burned (sent to the black hole address with <code>&quot;allowFeeRecipients&quot;: false</code>).
However, it is possible to enable block producers to set a fee recipient (who will get compensated
for blocks they produce).</p>
<p>To enable this feature, you&#x27;ll need to add the following to your
genesis file (under the <code>&quot;config&quot;</code> key):</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;config&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;allowFeeRecipients&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fee-recipient-address">Fee Recipient Address<a href="#fee-recipient-address" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h4>
<p>With <code>allowFeeRecipients</code> enabled, your validators can specify their addresses to collect fees. They
need to update their EVM <a href="#luxd-chain-configs">chain config</a> with the following to specify where
the fee should be sent to.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;feeRecipient&quot;: &quot;&lt;YOUR 0x-ADDRESS&gt;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>If <code>allowFeeRecipients</code> feature is enabled on the Subnet, but a validator doesn&#x27;t specify a
&quot;feeRecipient&quot;, the fees will be burned in blocks it produces.</p></div></div>
<p><em>Note: this mechanism can be also activated as a precompile.</em>
<em>See <a href="#changing-fee-reward-mechanisms">Changing Fee Reward Mechanisms</a> section for more details.</em></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="precompiles">Precompiles<a href="#precompiles" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h2>
<p>Subnet-EVM can provide custom functionalities with precompiled contracts. These precompiled
contracts can be activated through <code>ChainConfig</code> (in genesis or as an upgrade).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="allowlist-interface">AllowList Interface<a href="#allowlist-interface" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h3>
<p>The <code>AllowList</code> interface is used by precompiles to check if a given address is allowed to use a
precompiled contract. <code>AllowList</code> consist of two main roles, <code>Admin</code> and <code>Enabled</code>. <code>Admin</code> can
add/remove other <code>Admin</code> and <code>Enabled</code> addresses. <code>Enabled</code> addresses can use the precompiled
contract, but cannot modify other roles.</p>
<p><code>AllowList</code> adds <code>adminAddresses</code> and <code>enabledAddresses</code> fields to precompile contract configurations.
For instance fee manager precompile contract configuration looks like this:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;feeManagerConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;blockTimestamp&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;adminAddresses&quot;: [&lt;list of addresses&gt;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;enabledAddresses&quot;: [&lt;list of addresses&gt;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>AllowList</code> configuration affects only the related precompile. For instance, the admin address in
<code>feeManagerConfig</code> does not affect admin addresses in other activated precompiles.</p>
<p>The <code>AllowList</code> solidity interface is defined as follows, and can be found in <a href="https://github.com/luxdefi/subnet-evm/blob/5faabfeaa021a64c2616380ed2d6ec0a96c8f96d/contract-examples/contracts/IAllowList.sol" target="_blank" rel="noopener noreferrer">IAllowList.sol</a>:</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//SPDX-License-Identifier: MIT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity ^0.8.0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">interface IAllowList {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Set [addr] to have the admin role over the precompile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function setAdmin(address addr) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Set [addr] to be enabled on the precompile contract.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function setEnabled(address addr) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Set [addr] to have no role the precompile contract.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function setNone(address addr) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Read the status of [addr].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function readAllowList(address addr) external view returns (uint256 role);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>readAllowList(addr)</code> will return a uint256 with a value of 0, 1, or 2, corresponding to the roles
<code>None</code>, <code>Enabled</code>, and <code>Admin</code> respectively.</p>
<p><em>Note: <code>AllowList</code> is not an actual contract but just an interface. It&#x27;s not callable by itself.</em>
<em>This is used by other precompiles. Check other precompile sections to see how this works.</em></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="restricting-smart-contract-deployers">Restricting Smart Contract Deployers<a href="#restricting-smart-contract-deployers" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h3>
<p>If you&#x27;d like to restrict who has the ability to deploy contracts on your
Subnet, you can provide an <code>AllowList</code> configuration in your genesis or upgrade file:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;contractDeployerAllowListConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;blockTimestamp&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;adminAddresses&quot;: [&quot;0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example, <code>0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC</code> is named as the
<code>Admin</code> of the <code>ContractDeployerAllowList</code>. This enables it to add other <code>Admin</code> or to add
<code>Enabled</code> addresses. Both <code>Admin</code> and <code>Enabled</code> can deploy contracts. To provide
a great UX with factory contracts, the <code>tx.Origin</code> is checked for being a valid
deployer instead of the caller of <code>CREATE</code>. This means that factory contracts will still be
able to create new contracts as long as the sender of the original transaction is an allow
listed deployer.</p>
<p>The <code>Stateful Precompile</code> contract powering the <code>ContractDeployerAllowList</code> adheres to the
<a href="#allowlist-interface">AllowList Solidity interface</a> at <code>0x0200000000000000000000000000000000000000</code>
(you can load this interface and interact directly in Remix):</p>
<ul>
<li>
<p>If you attempt to add a <code>Enabled</code> and you are not an <code>Admin</code>, you will see
something like:
<img loading="lazy" alt="admin fail" src="/assets/images/admin_fail-7a24c240bf9cad2181ce13791cf96574.png" width="1240" height="542" class="img_ev3q"></p>
</li>
<li>
<p>If you attempt to deploy a contract but you are not an <code>Admin</code> not
a <code>Enabled</code>, you will see something like:
<img loading="lazy" alt="deploy fail" src="/assets/images/deploy_fail-0e20c7f3219af06d3be7899768476c04.png" width="1246" height="562" class="img_ev3q"></p>
</li>
<li>
<p>If you call <code>readAllowList(addr)</code> then you can read the current role of <code>addr</code>, which will return
a uint256 with a value of 0, 1, or 2, corresponding to the roles <code>None</code>, <code>Enabled</code>, and <code>Admin</code> respectively.</p>
</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>If you remove all of the admins from the allow list, it will no longer be possible to update the
allow list without modifying the Subnet-EVM to schedule a network upgrade.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="initial-contract-allow-list-configuration">Initial Contract Allow List Configuration<a href="#initial-contract-allow-list-configuration" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h4>
<p>It&#x27;s possible to enable this precompile with an initial configuration to activate its effect on
activation timestamp. This provides a way to enable the precompile without an admin address to manage
the deployer list. With this, you can define a list of addresses that are allowed to deploy contracts.
Since there will be no admin address to manage the deployer list, it can only be modified through a
network upgrade. To use initial configuration, you need to specify addresses in <code>enabledAddresses</code>
field in your genesis or upgrade file:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;contractDeployerAllowListConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;blockTimestamp&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;enabledAddresses&quot;: [&quot;0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will allow only <code>0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC</code> to deploy contracts. For further
information about precompile initial configurations see <a href="#initial-precompile-configurations">Initial Precompile Configurations</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="restricting-who-can-submit-transactions">Restricting Who Can Submit Transactions<a href="#restricting-who-can-submit-transactions" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h3>
<p>Similar to restricting contract deployers, this precompile restricts which addresses may submit
transactions on chain. Like the previous section, you can activate the precompile by including an
<code>AllowList</code> configuration in your genesis file:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;config&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;txAllowListConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;blockTimestamp&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;adminAddresses&quot;: [&quot;0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example, <code>0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC</code> is named as the
<code>Admin</code> of the <code>TransactionAllowList</code>. This enables them to add other <code>Admins</code> or to add
<code>Allowed</code>. Both <code>Admins</code> and <code>Enabled</code> can submit transactions to the chain.</p>
<p>The <code>Stateful Precompile</code> contract powering the <code>TxAllowList</code> adheres to the
<a href="#allowlist-interface">AllowList Solidity interface</a> at <code>0x0200000000000000000000000000000000000002</code>
(you can load this interface and interact directly in Remix):</p>
<ul>
<li>
<p>If you attempt to add an <code>Enabled</code> and you are not an <code>Admin</code>, you will see
something like:
<img loading="lazy" alt="admin fail" src="/assets/images/admin_fail-7a24c240bf9cad2181ce13791cf96574.png" width="1240" height="542" class="img_ev3q"></p>
</li>
<li>
<p>If you attempt to submit a transaction but you are not an <code>Admin</code> or not
<code>Enabled</code>, you will see something like: <code>cannot issue transaction from non-allow listed address</code></p>
</li>
<li>
<p>If you call <code>readAllowList(addr)</code> then you can read the current role of <code>addr</code>, which will return
a <code>uint256</code> with a value of 0, 1, or 2, corresponding to the roles <code>None</code>, <code>Allowed</code>, and <code>Admin</code> respectively.</p>
</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>If you remove all of the admins from the allow list, it will no longer be possible to update the
allow list without modifying the Subnet-EVM to schedule a network upgrade.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="initial-tx-allow-list-configuration">Initial TX Allow List Configuration<a href="#initial-tx-allow-list-configuration" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h4>
<p>It&#x27;s possible to enable this precompile with an initial configuration to activate its effect on
activation timestamp. This provides a way to enable the precompile without an admin address to manage
the TX allow list. With this, you can define a list of addresses that are allowed to submit
transactions. Since there will be no admin address to manage the TX list, it can only be modified
through a network upgrade. To use initial configuration, you need to specify addresses in
<code>enabledAddresses</code> field in your genesis or upgrade file:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;txAllowListConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;blockTimestamp&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;enabledAddresses&quot;: [&quot;0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will allow only <code>0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC</code> to submit transactions. For further
information about precompile initial configurations see <a href="#initial-precompile-configurations">Initial Precompile Configurations</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="minting-native-coins">Minting Native Coins<a href="#minting-native-coins" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h3>
<p>You can mint native(gas) coins with a precompiled contract. In order to activate this feature, you
can provide <code>nativeMinterConfig</code> in genesis:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;config&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;contractNativeMinterConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;blockTimestamp&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;adminAddresses&quot;: [&quot;0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>adminAddresses</code> denotes admin accounts who can add other <code>Admin</code> or <code>Enabled</code> accounts. <code>Admin</code> and
<code>Enabled</code> are both eligible to mint native coins for other addresses. <code>ContractNativeMinter</code> uses
same methods as in <code>ContractDeployerAllowList</code>.</p>
<p>The <code>Stateful Precompile</code> contract powering the <code>ContractNativeMinter</code> adheres to the following
Solidity interface at <code>0x0200000000000000000000000000000000000001</code> (you can load this interface and
interact directly in Remix):</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// (c) 2022-2023, Lux Partners, Inc. All rights reserved.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// See the file LICENSE for licensing terms.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity ^0.8.0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import &quot;./IAllowList.sol&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">interface INativeMinter is IAllowList {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Mint [amount] number of native coins and send to [addr]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function mintNativeCoin(address addr, uint256 amount) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>mintNativeCoin</code> takes an address and amount of native coins to be minted. The amount denotes the
amount in minimum denomination of native coins (10^18). For example, if you want to mint 1 native
coin (in LUX), you need to pass 1 * 10^18 as the amount.</p>
<p>Note that this uses <code>IAllowList</code> interface directly, meaning that it uses the same <code>AllowList</code>
interface functions like <code>readAllowList</code> and <code>setAdmin</code>, <code>setEnabled</code>, <code>setNone</code>. For more information
see <a href="#allowlist-interface">AllowList Solidity interface</a>.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>EVM does not prevent overflows when storing the address balance. Overflows in
balance opcodes are handled by setting the
balance to maximum. However the same won&#x27;t apply for API calls. If you try to mint more than the
maximum balance, API calls will return the overflowed hex-balance. This can break external
tooling. Make sure the total supply of native coins is always less than 2^256-1.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="initial-native-minter-configuration">Initial Native Minter Configuration<a href="#initial-native-minter-configuration" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h4>
<p>It&#x27;s possible to enable this precompile with an initial configuration to activate its effect on
activation timestamp. This provides a way to enable the precompile without an admin address to mint
native coins. With this, you can define a list of addresses that will receive an initial mint of the
native coin when this precompile activates. This can be useful for networks that require a one-time
mint without specifying any admin addresses. To use initial configuration, you need to specify a map
of addresses with their corresponding mint amounts in <code>initialMint</code> field in your genesis or upgrade
file:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;contractNativeMinterConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;blockTimestamp&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;initialMint&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC&quot;: &quot;1000000000000000000&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;0x10037Fb06Ec4aB8c870a92AE3f00cD58e5D484b3&quot;: &quot;0xde0b6b3a7640000&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the amount field you can specify either decimal or hex string. This will mint 1000000000000000000
(equivalent of 1 Native Coin denominated as 10^18) to both addresses. Note that these are both in
string format. &quot;0xde0b6b3a7640000&quot; hex is equivalent to 1000000000000000000. For further information
about precompile initial configurations see <a href="#initial-precompile-configurations">Initial Precompile Configurations</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-dynamic-fees">Configuring Dynamic Fees<a href="#configuring-dynamic-fees" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h3>
<p>You can configure the parameters of the dynamic fee algorithm on chain using the <code>FeeConfigManager</code>.
In order to activate this feature, you will need to provide the <code>FeeConfigManager</code> in the genesis:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;config&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;feeManagerConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;blockTimestamp&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;adminAddresses&quot;: [&quot;0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The precompile implements the <code>FeeManager</code> interface which includes the same <code>AllowList</code> interface
used by ContractNativeMinter, TxAllowList, etc. For an example of the <code>AllowList</code> interface, see the
<a href="#allowlist-interface">TxAllowList</a> above.</p>
<p>The <code>Stateful Precompile</code> contract powering the <code>FeeConfigManager</code> adheres to the following Solidity
interface at <code>0x0200000000000000000000000000000000000003</code> (you can load this interface and interact
directly in Remix). It can be also found in
<a href="https://github.com/luxdefi/subnet-evm/blob/5faabfeaa021a64c2616380ed2d6ec0a96c8f96d/contract-examples/contracts/IFeeManager.sol" target="_blank" rel="noopener noreferrer">IFeeManager.sol</a>:</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//SPDX-License-Identifier: MIT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity ^0.8.0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import &quot;./IAllowList.sol&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">interface IFeeManager is IAllowList {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Set fee config fields to contract storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function setFeeConfig(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 gasLimit,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 targetBlockRate,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 minBaseFee,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 targetGas,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 baseFeeChangeDenominator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 minBlockGasCost,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 maxBlockGasCost,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 blockGasCostStep</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Get fee config from the contract storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function getFeeConfig()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    external</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    view</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    returns (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      uint256 gasLimit,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      uint256 targetBlockRate,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      uint256 minBaseFee,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      uint256 targetGas,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      uint256 baseFeeChangeDenominator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      uint256 minBlockGasCost,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      uint256 maxBlockGasCost,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      uint256 blockGasCostStep</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Get the last block number changed the fee config from the contract storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function getFeeConfigLastChangedAt()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    external</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    view</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    returns (uint256 blockNumber);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>FeeConfigManager precompile uses <code>IAllowList</code> interface directly, meaning that it uses the same
<code>AllowList</code> interface functions like <code>readAllowList</code> and <code>setAdmin</code>, <code>setEnabled</code>, <code>setNone</code>. For
more information see <a href="#allowlist-interface">AllowList Solidity interface</a>.</p>
<p>In addition to the <code>AllowList</code> interface, the FeeConfigManager adds the following capabilities:</p>
<ul>
<li><code>getFeeConfig</code> - retrieves the current dynamic fee config</li>
<li><code>getFeeConfigLastChangedAt</code> - retrieves the timestamp of the last block where the fee config was updated</li>
<li><code>setFeeConfig</code> - sets the dynamic fee config on chain (see <a href="#fee-config">here</a> for details on the
fee config parameters)</li>
</ul>
<p>You can also get the fee configuration at a block with the <code>eth_feeConfig</code> RPC method. For more
information see <a href="/reference/subnet-evm/api#eth_feeconfig">here</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="initial-fee-config-configuration">Initial Fee Config Configuration<a href="#initial-fee-config-configuration" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h4>
<p>It&#x27;s possible to enable this precompile with an initial configuration to activate its effect on
activation timestamp. This provides a way to define your fee structure to take effect at the
activation. To use the initial configuration, you need to specify the fee config in
<code>initialFeeConfig</code> field in your genesis or upgrade file:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;feeManagerConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;blockTimestamp&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;initialFeeConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;gasLimit&quot;: 20000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;targetBlockRate&quot;: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;minBaseFee&quot;: 1000000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;targetGas&quot;: 100000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;baseFeeChangeDenominator&quot;: 48,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;minBlockGasCost&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;maxBlockGasCost&quot;: 10000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;blockGasCostStep&quot;: 500000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will set the fee config to the values specified in the <code>initialFeeConfig</code> field. For further
information about precompile initial configurations see <a href="#initial-precompile-configurations">Initial Precompile Configurations</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="changing-fee-reward-mechanisms">Changing Fee Reward Mechanisms<a href="#changing-fee-reward-mechanisms" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h3>
<p>Fee reward mechanism can be configured with this stateful precompile contract called as
<code>RewardManager</code>. Configuration can include burning fees, sending fees to a predefined address, or
enabling fees to be collected by block producers. This precompile can be configured as follows in
the genesis file:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;config&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;rewardManagerConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;blockTimestamp&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;adminAddresses&quot;: [&quot;0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>adminAddresses</code> denotes admin accounts who can add other <code>Admin</code> or <code>Enabled</code> accounts. <code>Admin</code> and
<code>Enabled</code> are both eligible to change the current fee mechanism.</p>
<p>The precompile implements the <code>RewardManager</code> interface which includes the <code>AllowList</code> interface.
For an example of the <code>AllowList</code> interface, see the <a href="#allowlist-interface">TxAllowList</a> above.</p>
<p>The <code>Stateful Precompile</code> contract powering the <code>RewardManager</code> adheres to the following Solidity
interface at <code>0x0200000000000000000000000000000000000004</code> (you can load this interface and interact
directly in Remix). It can be also found in
<a href="https://github.com/luxdefi/subnet-evm/blob/5faabfeaa021a64c2616380ed2d6ec0a96c8f96d/contract-examples/contracts/IRewardManager.sol" target="_blank" rel="noopener noreferrer">IRewardManager.sol</a>:</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//SPDX-License-Identifier: MIT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity ^0.8.0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import &quot;./IAllowList.sol&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">interface IRewardManager is IAllowList {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // setRewardAddress sets the reward address to the given address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function setRewardAddress(address addr) external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // allowFeeRecipients allows block builders to claim fees</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function allowFeeRecipients() external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // disableRewards disables block rewards and starts burning fees</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function disableRewards() external;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // currentRewardAddress returns the current reward address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function currentRewardAddress() external view returns (address rewardAddress);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // areFeeRecipientsAllowed returns true if fee recipients are allowed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function areFeeRecipientsAllowed() external view returns (bool isAllowed);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>RewardManager</code> precompile uses <code>IAllowList</code> interface directly, meaning that it uses the same
<code>AllowList</code> interface functions like <code>readAllowList</code> and <code>setAdmin</code>, <code>setEnabled</code>, <code>setNone</code>. For
more information see <a href="#allowlist-interface">AllowList Solidity interface</a>.</p>
<p>In addition to the <code>AllowList</code> interface, the <code>RewardManager</code> adds the following capabilities:</p>
<ul>
<li>
<p><code>setRewardAddress</code> - sets the address to which fees are sent. This address can be a contract or a
user address. The address becomes the required coinbase address for the blocks that this mechanism
is enabled on. Meaning that it will receive the fees collected from the transactions in the block.
Receiving fees will not call any contract functions or fallback functions. It will simply increase
the balance of the address by the amount of fees.</p>
</li>
<li>
<p><code>allowFeeRecipients</code> - enables block producers to claim fees. This will allow block producers to
claim fees by specifying their own addresses in their chain configs. See <a href="#fee-recipient">here</a>
for more information on how to specify the fee recipient address in the chain config.</p>
</li>
<li>
<p><code>disableRewards</code> - disables block rewards and starts burning fees.</p>
</li>
<li>
<p><code>currentRewardAddress</code> - returns the current reward address. This is the address to which fees are
sent. It can include black hole address (<code>0x010...0</code>) which means that fees are burned. It can also
include a predefined hash (<code>0x0000000000000000000000000000000000000000</code>) denoting custom fee
recipients are allowed. It&#x27;s advised to use the <code>areFeeRecipientsAllowed</code> function to check if
custom fee recipients are allowed first.</p>
</li>
<li>
<p><code>areFeeRecipientsAllowed</code> - returns true if custom fee recipients are allowed.</p>
</li>
</ul>
<p>These 3 mechanisms (burning, sending to a predefined address, and enabling fees to be collected by
block producers) cannot be enabled at the same time. Enabling one mechanism will take over the
previous mechanism. For example, if you enable <code>allowFeeRecipients</code> and then enable
<code>disableRewards</code>, the <code>disableRewards</code> will take over and fees will be burned.</p>
<p><em>Note: Reward addresses or fee recipient addresses are not required to be an admin or enabled account.</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="initial-configuration">Initial Configuration<a href="#initial-configuration" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h4>
<p>It&#x27;s possible to enable this precompile with an initial configuration to activate its effect on
activation timestamp. This provides a way to enable the precompile without an admin address to
change the fee reward mechanism. This can be useful for networks that require a one-time reward
mechanism change without specifying any admin addresses. Without this initial configuration, the
precompile will inherit the <code>feeRecipients</code> mechanism activated at genesis. Meaning that if
<code>allowFeeRecipients</code> is set to true in the genesis file, the precompile will be enabled with the
<code>allowFeeRecipients</code> mechanism. Otherwise it will keep burning fees. To use the initial
configuration, you need to specify the initial reward mechanism in <code>initialRewardConfig</code> field in
your genesis or upgrade file.</p>
<p>In order to allow custom fee recipients, you need to specify the <code>allowFeeRecipients</code> field in the <code>initialRewardConfig</code>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rewardManagerConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;blockTimestamp&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;initialRewardConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;allowFeeRecipients&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In order to set an address to receive all transaction rewards, you need to specify the
<code>rewardAddress</code> field in the <code>initialRewardConfig</code>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rewardManagerConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;blockTimestamp&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;initialRewardConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;rewardAddress&quot;: &quot;0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In order to disable rewards and start burning fees, you need to leave all fields in the
<code>initialRewardConfig</code> empty:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rewardManagerConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;blockTimestamp&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;initialRewardConfig&quot;: {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>However this is different than the default behavior of the precompile. If you don&#x27;t specify the
<code>initialRewardConfig</code> field, the precompile will inherit the <code>feeRecipients</code> mechanism activated at
genesis. Meaning that if <code>allowFeeRecipients</code> is set to true in the genesis file, the precompile
will be enabled with the <code>allowFeeRecipients</code> mechanism. Otherwise it will keep burning fees.
Example
configuration for this case:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rewardManagerConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;blockTimestamp&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;adminAddresses&quot;: [&quot;0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If <code>allowFeeRecipients</code> and <code>rewardAddress</code> are both specified in the <code>initialRewardConfig</code> field
then an error will be returned and precompile won&#x27;t be activated. For further information about
precompile initial configurations see <a href="#initial-precompile-configurations">Initial Precompile
Configurations</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="contract-examples">Contract Examples<a href="#contract-examples" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h2>
<p>Subnet-EVM contains example contracts for precompiles under <code>/contracts</code>. It&#x27;s a hardhat
project with tests and tasks. For more information see
<a href="https://github.com/luxdefi/subnet-evm/tree/master/contracts#subnet-evm-contracts" target="_blank" rel="noopener noreferrer">contract examples README</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="network-upgrades-enabledisable-precompiles">Network Upgrades: Enable/Disable Precompiles<a href="#network-upgrades-enabledisable-precompiles" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h2>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Performing a network upgrade requires coordinating the upgrade network-wide. A network upgrade
changes the rule set used to process and verify blocks, such that any node that upgrades incorrectly
or fails to upgrade by the time that upgrade goes into effect may become out of sync with the rest
of the network.</p><p>Any mistakes in configuring network upgrades or coordinating them on validators may cause the network
to halt and recovering may be difficult.</p></div></div>
<p>In addition to specifying the configuration for each of the above precompiles in the genesis chain
config, they can be individually enabled or disabled at a given timestamp as a network upgrade.
Disabling a precompile disables calling the precompile and destructs its storage so it can be enabled
at a later timestamp with a new configuration if desired.</p>
<p>These upgrades must be specified in a file named <code>upgrade.json</code> placed in the same directory where
<a href="#luxd-chain-configs"><code>config.json</code></a> resides: <code>{chain-config-dir}/{blockchainID}/upgrade.json</code>.
For example, <code>WAGMI Subnet</code> upgrade should be placed in
<code>~/.luxd/configs/chains/2ebCneCbwthjQ1rYT41nhd7M76Hc6YmosMAQrTFhBq8qeqh6tt/upgrade.json</code>.</p>
<p>The content of the <code>upgrade.json</code> should be formatted according to the following:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;precompileUpgrades&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;[PRECOMPILE_NAME]&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;blockTimestamp&quot;: &quot;[ACTIVATION_TIMESTAMP]&quot;, // unix timestamp precompile should activate at</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;[PARAMETER]&quot;: &quot;[VALUE]&quot; // precompile specific configuration options, eg. &quot;adminAddresses&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>An invalid <code>blockTimestamp</code> in an upgrade file results the update failing.
The <code>blockTimestamp</code> value should be set to a valid Unix timestamp value which is
in the <em>future</em> relative to the <em>head of the chain</em>.
If the node encounters a <code>blockTimestamp</code> which is in the past, it will fail on startup.</p></div></div>
<p>To disable a precompile, the following format should be used:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;precompileUpgrades&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;&lt;precompileName&gt;&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;blockTimestamp&quot;: &quot;[DEACTIVATION_TIMESTAMP]&quot;, // unix timestamp the precompile should deactivate at</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;disable&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Each item in <code>precompileUpgrades</code> must specify exactly one precompile to enable or disable and the
block timestamps must be in increasing order. Once an upgrade has been activated (a block after the
specified timestamp has been accepted), it must always be present in <code>upgrade.json</code> exactly as it
was configured at the time of activation (otherwise the node will refuse to start).</p>
<p>Enabling and disabling a precompile is a network upgrade and should always be done with caution.</p>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_BuS1"><p>For safety, you should always treat <code>precompileUpgrades</code> as append-only.</p><p>As a last resort measure, it is possible to abort or reconfigure a precompile upgrade that has not
been activated since the chain is still processing blocks using the prior rule set.</p></div></div>
<p>If aborting an upgrade becomes necessary, you can remove the precompile upgrade from <code>upgrade.json</code>
from the end of the list of upgrades. As long as the blockchain has not accepted a block with a
timestamp past that upgrade&#x27;s timestamp, it will abort the upgrade for that node.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h3>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;precompileUpgrades&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;feeManagerConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;blockTimestamp&quot;: 1668950000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;adminAddresses&quot;: [&quot;0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;txAllowListConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;blockTimestamp&quot;: 1668960000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;adminAddresses&quot;: [&quot;0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;feeManagerConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;blockTimestamp&quot;: 1668970000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;disable&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This example enables the <code>feeManagerConfig</code> at the first block with timestamp &gt;= <code>1668950000</code>, enables
<code>txAllowListConfig</code> at the first block with timestamp &gt;= <code>1668960000</code>, and disables <code>feeManagerConfig</code>
at the first block with timestamp &gt;= <code>1668970000</code>.</p>
<p>When a precompile disable takes effect (that is, after its <code>blockTimestamp</code> has passed), its storage
will be wiped. If you want to reenable it, you will need to treat it as a new configuration.</p>
<p>After you have created the <code>upgrade.json</code> and placed it in the chain config directory, you need to
restart the node for the upgrade file to be loaded (again, make sure you don&#x27;t restart all Subnet
validators at once!). On node restart, it will print out the configuration of the chain, where you
can double-check that the upgrade has loaded correctly. In our example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">INFO [08-15|15:09:36.772] &lt;2ebCneCbwthjQ1rYT41nhd7M76Hc6YmosMAQrTFhBq8qeqh6tt Chain&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">github.com/luxdefi/subnet-evm/eth/backend.go:155: Initialised chain configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config=‚Äú{ChainID: 11111 Homestead: 0 EIP150: 0 EIP155: 0 EIP158: 0 Byzantium: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Constantinople: 0 Petersburg: 0 Istanbul: 0, Muir Glacier: 0, Subnet EVM: 0, FeeConfig:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{\‚ÄúgasLimit\‚Äú:20000000,\‚ÄútargetBlockRate\‚Äú:2,\‚ÄúminBaseFee\‚Äú:1000000000,\‚ÄútargetGas\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚Äú:100000000,\‚ÄúbaseFeeChangeDenominator\‚Äú:48,\‚ÄúminBlockGasCost\‚Äú:0,\‚ÄúmaxBlockGasCost\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚Äú:10000000,\‚ÄúblockGasCostStep\‚Äú:500000}, AllowFeeRecipients: false, NetworkUpgrades: {\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ÄúsubnetEVMTimestamp\‚Äú:0}, PrecompileUpgrade: {}, UpgradeConfig: {\&quot;precompileUpgrades\&quot;:[{\&quot;feeManagerConfig\&quot;:{\&quot;adminAddresses\&quot;:[\&quot;0x8db97c7cece249c2b98bdc0226cc4c2a57bf52fc\&quot;],\&quot;enabledAddresses\&quot;:null,\&quot;blockTimestamp\&quot;:1668950000}},{\&quot;txAllowListConfig\&quot;:{\&quot;adminAddresses\&quot;:[\&quot;0x8db97c7cece249c2b98bdc0226cc4c2a57bf52fc\&quot;],\&quot;enabledAddresses\&quot;:null,\&quot;blockTimestamp\&quot;:1668960000}},{\&quot;feeManagerConfig\&quot;:{\&quot;adminAddresses\&quot;:null,\&quot;enabledAddresses\&quot;:null,\&quot;blockTimestamp\&quot;:1668970000,\&quot;disable\&quot;:true}}]}, Engine: Dummy Consensus Engine}&quot;‚Äù</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Notice that <code>precompileUpgrades</code> entry correctly reflects the changes. You can also check the
activated precompiles at a timestamp with the
<a href="/reference/subnet-evm/api#eth_getactiveprecompilesat"><code>eth_getActivePrecompilesAt</code></a>
RPC method. The <a href="/reference/subnet-evm/api#eth_getchainconfig"><code>eth_getChainConfig</code></a>
RPC method will also return the configured upgrades in the response.</p>
<p>That&#x27;s it, your Subnet is all set and the desired upgrades will be activated at the indicated timestamp!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="initial-precompile-configurations">Initial Precompile Configurations<a href="#initial-precompile-configurations" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h3>
<p>Precompiles can be managed by some privileged addresses to change their configurations and activate
their effects. For example, the <code>feeManagerConfig</code> precompile can have <code>adminAddresses</code> which can
change the fee structure of the network.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;precompileUpgrades&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;feeManagerConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;blockTimestamp&quot;: 1668950000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;adminAddresses&quot;: [&quot;0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example, only the address <code>0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC</code> is allowed to change
the fee structure of the network. The admin address has to call the precompile in order to activate
its effect; that is it needs to send a transaction with a new fee config to perform the update.
This is a very powerful feature, but it also gives a large amount of power to the admin address. If
the address <code>0x8db97C7cEcE249c2b98bDC0226Cc4C2A57BF52FC</code> is compromised, the network is compromised.</p>
<p>With the initial configurations, precompiles can immediately activate their effect on the activation
timestamp. With this way admin addresses can be omitted from the precompile configuration. For example,
the <code>feeManagerConfig</code> precompile can have <code>initialFeeConfig</code> to setup the fee configuration on the
activation:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;precompileUpgrades&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;feeManagerConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;blockTimestamp&quot;: 1668950000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;initialFeeConfig&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;gasLimit&quot;: 20000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;targetBlockRate&quot;: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;minBaseFee&quot;: 1000000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;targetGas&quot;: 100000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;baseFeeChangeDenominator&quot;: 48,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;minBlockGasCost&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;maxBlockGasCost&quot;: 10000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;blockGasCostStep&quot;: 500000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Notice that there is no <code>adminAddresses</code> field in the configuration. This means that there will be
no admin addresses to manage the fee structure with this precompile. The precompile will simply
update the fee configuration to the specified fee config when it activates on the <code>blockTimestamp</code> <code>1668950000</code>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>It&#x27;s still possible to add <code>adminAddresses</code> or <code>enabledAddresses</code> along with these initial
configurations. In this case, the precompile will be activated with the initial configuration, and
admin/enabled addresses can access to the precompiled contract normally.</p></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>If you want to change the precompile initial configuration, you will need to first disable it then
activate the precompile again with the new configuration.</p></div></div>
<p>See every precompile initial configuration in their relevant <code>Initial Configuration</code> sections under <a href="#precompiles">Precompiles</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="luxd-chain-configs">Luxd Chain Configs<a href="#luxd-chain-configs" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h2>
<p>As described in <a href="/nodes/configure/chain-config-flags#subnet-chain-configs">this doc</a>, each blockchain
of Subnets can have its own custom configuration. If a Subnet&#x27;s ChainID is
<code>2ebCneCbwthjQ1rYT41nhd7M76Hc6YmosMAQrTFhBq8qeqh6tt</code>, the config file for this chain is located at
<code>{chain-config-dir}/2ebCneCbwthjQ1rYT41nhd7M76Hc6YmosMAQrTFhBq8qeqh6tt/config.json</code>.</p>
<p>For blockchains created by or forked from Subnet-EVM, most
<a href="/nodes/configure/chain-config-flags#c-chain-configs">C-Chain configs</a> are applicable except
<a href="/nodes/configure/chain-config-flags#enabling-specific-apis">Lux Specific APIs</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="priority-regossip">Priority Regossip<a href="#priority-regossip" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h3>
<p>A transaction is &quot;regossiped&quot; when the node does not find the transaction in
a block after <code>priority-regossip-frequency</code> (defaults to <code>1m</code>). By default, up to 16 transactions
(max 1 per address) are regossiped to validators per minute.</p>
<p>Operators can use &quot;priority regossip&quot; to more aggressively &quot;regossip&quot; transactions for a set of
important addresses (like bridge relayers). To do so, you&#x27;ll need to update your
<a href="/nodes/configure/chain-config-flags#subnet-chain-configs">chain config</a> with the following:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;priority-regossip-addresses&quot;: [&quot;&lt;YOUR 0x-ADDRESS&gt;&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>By default, up to 32 transactions from priority addresses (max 16 per address) are regossipped to
validators per second. You can override these defaults with the following config:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;priority-regossip-frequency&quot;: &quot;1s&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;priority-regossip-max-txs&quot;: 32,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;priority-regossip-addresses&quot;: [&quot;&lt;YOUR 0x-ADDRESS&gt;&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;priority-regossip-txs-per-address&quot;: 16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fee-recipient">Fee Recipient<a href="#fee-recipient" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h3>
<p>This works together with <a href="#setting-a-custom-fee-recipient"><code>allowFeeRecipients</code></a> and <a href="#changing-fee-reward-mechanisms">RewardManager
precompile</a> to specify where the fees should be sent to.</p>
<p>With <code>allowFeeRecipients</code> enabled, validators can specify their addresses to collect fees.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;feeRecipient&quot;: &quot;&lt;YOUR 0x-ADDRESS&gt;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>If <code>allowFeeRecipients</code> or <code>RewardManager</code> precompile is enabled on the Subnet, but a validator
doesn&#x27;t specify a &quot;feeRecipient&quot;, the fees will be burned in blocks it produces.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="network-upgrades-state-upgrades">Network Upgrades: State Upgrades<a href="#network-upgrades-state-upgrades" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">‚Äã</a></h2>
<p>Subnet-EVM allows the network operators to specify a modification to state that will take place
at the beginning of the first block with a timestamp greater than or equal to the one specified
in the configuration.</p>
<p>This provides a last resort path to updating non-upgradeable contracts via a network upgrade
(for example, to fix issues when you are running your own blockchain).</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>This should only be used as a last resort alternative to forking <code>subnet-evm</code> and specifying
the network upgrade in code.</p><p>Using a network upgrade to modify state is not part of normal operations of the
EVM. You should ensure the modifications do not invalidate any of the assumptions of
deployed contracts or cause incompatibilities with downstream infrastructure such as
block explorers.</p></div></div>
<p>The timestamps for upgrades in <code>stateUpgrades</code> must be in increasing order.
<code>stateUpgrades</code> can be specified along with <code>precompileUpgrades</code> or by itself.</p>
<p>The following three state modifications are supported:</p>
<ul>
<li><code>balanceChange</code>: adds a specified amount to the balance of a given account. This amount can be
specified as hex or decimal and must be positive.</li>
<li><code>storage</code>: modifies the specified storage slots to the specified values. Keys and values must
be 32 bytes specified in hex, with a <code>0x</code> prefix.</li>
<li><code>code</code>: modifies the code stored in the specified account. The
code must <em>only</em> be the runtime portion of a code. The code must start with a <code>0x</code> prefix.</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>If modifying the code, <em>only</em> the runtime portion of the bytecode should be provided in
<code>upgrades.json</code>. Do not use the bytecode that would be used for deploying a new contract, as this
includes the constructor code as well. Refer to your compiler&#x27;s documentation for information
on how to find the runtime portion of the contract you wish to modify.</p></div></div>
<p>The <code>upgrades.json</code> file shown below describes a network upgrade that will make the following
state modifications at the first block after (or at) <code>March 8, 2023 1:30:00 AM GMT</code>:</p>
<ul>
<li>Sets the code for the account at <code>0x71562b71999873DB5b286dF957af199Ec94617F7</code>,</li>
<li>And adds <code>100</code> wei to the balance of the account at <code>0xb794f5ea0ba39494ce839613fffba74279579268</code>,</li>
<li>Sets the storage slot <code>0x1234</code> to the value <code>0x6666</code> for the account at <code>0xb794f5ea0ba39494ce839613fffba74279579268</code>.</li>
</ul>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;stateUpgrades&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;blockTimestamp&quot;: 1678239000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;accounts&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;0x71562b71999873DB5b286dF957af199Ec94617F7&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;code&quot;: &quot;0x6080604052348015600f57600080fd5b506004361060285760003560e01c80632e64cec114602d575b600080fd5b60336047565b604051603e91906067565b60405180910390f35b60008054905090565b6000819050919050565b6061816050565b82525050565b6000602082019050607a6000830184605a565b9291505056fea26469706673582212209421042a1fdabcfa2486fb80942da62c28e61fc8362a3f348c4a96a92bccc63c64736f6c63430008120033&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;0xb794f5ea0ba39494ce839613fffba74279579268&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;balanceChange&quot;: &quot;0x64&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;storage&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;0x0000000000000000000000000000000000000000000000000000000000001234&quot;: &quot;0x0000000000000000000000000000000000000000000000000000000000006666&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/build">Build</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/subnets">Subnets</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/luxdefi/docs/edit/master/docs/build/subnet/upgrade/customize-a-subnet.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/build/subnet/upgrade/considerations-subnet-upgrade"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Key Considerations When Upgrading a Subnet</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/build/subnet/upgrade/upgrade-subnet-vm"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Upgrade a Subnet&#x27;s Virtual Machine</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#subnet-configs" class="table-of-contents__link toc-highlight">Subnet Configs</a></li><li><a href="#genesis" class="table-of-contents__link toc-highlight">Genesis</a><ul><li><a href="#chain-config" class="table-of-contents__link toc-highlight">Chain Config</a></li><li><a href="#alloc" class="table-of-contents__link toc-highlight">Alloc</a></li><li><a href="#header" class="table-of-contents__link toc-highlight">Header</a></li><li><a href="#genesis-examples" class="table-of-contents__link toc-highlight">Genesis Examples</a></li><li><a href="#setting-the-genesis-allocation" class="table-of-contents__link toc-highlight">Setting the Genesis Allocation</a></li><li><a href="#setting-a-custom-fee-recipient" class="table-of-contents__link toc-highlight">Setting a Custom Fee Recipient</a></li></ul></li><li><a href="#precompiles" class="table-of-contents__link toc-highlight">Precompiles</a><ul><li><a href="#allowlist-interface" class="table-of-contents__link toc-highlight">AllowList Interface</a></li><li><a href="#restricting-smart-contract-deployers" class="table-of-contents__link toc-highlight">Restricting Smart Contract Deployers</a></li><li><a href="#restricting-who-can-submit-transactions" class="table-of-contents__link toc-highlight">Restricting Who Can Submit Transactions</a></li><li><a href="#minting-native-coins" class="table-of-contents__link toc-highlight">Minting Native Coins</a></li><li><a href="#configuring-dynamic-fees" class="table-of-contents__link toc-highlight">Configuring Dynamic Fees</a></li><li><a href="#changing-fee-reward-mechanisms" class="table-of-contents__link toc-highlight">Changing Fee Reward Mechanisms</a></li></ul></li><li><a href="#contract-examples" class="table-of-contents__link toc-highlight">Contract Examples</a></li><li><a href="#network-upgrades-enabledisable-precompiles" class="table-of-contents__link toc-highlight">Network Upgrades: Enable/Disable Precompiles</a><ul><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li><li><a href="#initial-precompile-configurations" class="table-of-contents__link toc-highlight">Initial Precompile Configurations</a></li></ul></li><li><a href="#luxd-chain-configs" class="table-of-contents__link toc-highlight">Luxd Chain Configs</a><ul><li><a href="#priority-regossip" class="table-of-contents__link toc-highlight">Priority Regossip</a></li><li><a href="#fee-recipient" class="table-of-contents__link toc-highlight">Fee Recipient</a></li></ul></li><li><a href="#network-upgrades-state-upgrades" class="table-of-contents__link toc-highlight">Network Upgrades: State Upgrades</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row"><div class="col"><div class="footer-row"><a href="https://subnets.lux.network/" target="_blank" rel="noopener noreferrer" class="footer-main-list"><h3>Explorer</h3></a></div><div class="footer-row"><a href="https://academy.lux.com/?utm_source=dev-docs&amp;utm_medium=website&amp;utm_content=footer" target="_blank" rel="noopener noreferrer" class="footer-main-list"><h3>Academy<!-- --> <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 512" class="footer-academy-cap" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"></path></svg></h3></a></div><div class="footer-row"><a href="https://support.lux.network/en/" target="_blank" rel="noopener noreferrer" class="footer-main-list"><h3>Support</h3></a></div><div class="footer-row"><a href="https://core.app/en/" target="_blank" rel="noopener noreferrer" class="footer-main-list"><h3>Wallet</h3></a></div></div><div class="col"><div class="footer-row"><a href="https://t.me/+KDajA4iToKY2ZjBk"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="footer-social" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.287 5.906c-.778.324-2.334.994-4.666 2.01-.378.15-.577.298-.595.442-.03.243.275.339.69.47l.175.055c.408.133.958.288 1.243.294.26.006.549-.1.868-.32 2.179-1.471 3.304-2.214 3.374-2.23.05-.012.12-.026.166.016.047.041.042.12.037.141-.03.129-1.227 1.241-1.846 1.817-.193.18-.33.307-.358.336a8.154 8.154 0 0 1-.188.186c-.38.366-.664.64.015 1.088.327.216.589.393.85.571.284.194.568.387.936.629.093.06.183.125.27.187.331.236.63.448.997.414.214-.02.435-.22.547-.82.265-1.417.786-4.486.906-5.751a1.426 1.426 0 0 0-.013-.315.337.337 0 0 0-.114-.217.526.526 0 0 0-.31-.093c-.3.005-.763.166-2.984 1.09z"></path></svg></a><a href="https://chat.lux.network/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="footer-social" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z"></path></svg></a><a href="https://github.com/luxdefi"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="footer-social" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg></a><a href="https://twitter.com/luxdefi"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="footer-social" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"></path></svg></a><a href="https://www.reddit.com/r/Lux/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="footer-social" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M6.167 8a.831.831 0 0 0-.83.83c0 .459.372.84.83.831a.831.831 0 0 0 0-1.661zm1.843 3.647c.315 0 1.403-.038 1.976-.611a.232.232 0 0 0 0-.306.213.213 0 0 0-.306 0c-.353.363-1.126.487-1.67.487-.545 0-1.308-.124-1.671-.487a.213.213 0 0 0-.306 0 .213.213 0 0 0 0 .306c.564.563 1.652.61 1.977.61zm.992-2.807c0 .458.373.83.831.83.458 0 .83-.381.83-.83a.831.831 0 0 0-1.66 0z"></path><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.828-1.165c-.315 0-.602.124-.812.325-.801-.573-1.9-.945-3.121-.993l.534-2.501 1.738.372a.83.83 0 1 0 .83-.869.83.83 0 0 0-.744.468l-1.938-.41a.203.203 0 0 0-.153.028.186.186 0 0 0-.086.134l-.592 2.788c-1.24.038-2.358.41-3.17.992-.21-.2-.496-.324-.81-.324a1.163 1.163 0 0 0-.478 2.224c-.02.115-.029.23-.029.353 0 1.795 2.091 3.256 4.669 3.256 2.577 0 4.668-1.451 4.668-3.256 0-.114-.01-.238-.029-.353.401-.181.688-.592.688-1.069 0-.65-.525-1.165-1.165-1.165z"></path></svg></a><a href="https://www.youtube.com/@Luxlux"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="footer-social" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z"></path></svg></a><a href="https://www.linkedin.com/company/luxdefi"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="footer-social" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"></path></svg></a><a href="https://www.facebook.com/luxdefi"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="footer-social" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"></path></svg></a></div><div class="row" style="margin-top:10px;max-width:500px"><div class="col"><h4 class="footer-heading">Developers</h4><a href="https://forum.lux.network/"><div class="footer-list">Forum</div></a><a href="https://stats.lux.network/dashboard/overview/"><div class="footer-list">Network Stats</div></a><a href="https://www.youtube.com/playlist?list=PLRHl-ulWK4-GTJhSLF9omG2x_qn7E1O7n"><div class="footer-list">Video Tutorials</div></a><a href="https://hackenproof.com/lux/protocol"><div class="footer-list">Bug Bounty</div></a></div><div class="col"><h4 class="footer-heading">Community</h4><a href="https://medium.com/luxdefi"><div class="footer-list">Medium</div></a><a href="https://www.lux.network/blog"><div class="footer-list">Blog</div></a><a href="https://shop.lux.network/"><div class="footer-list">Merch</div></a><a href="/deprecated/tutorials-contest"><div class="footer-list">Tutorials Contest</div></a></div><div class="col"><h4 class="footer-heading">More</h4><a href="https://www.lux.network/whitepapers"><div class="footer-list">Whitepapers</div></a><a href="https://luxcloud.io/"><div class="footer-list">Enterprise Solutions</div></a><a href="https://github.com/luxdefi/audits"><div class="footer-list">Audits</div></a><a href="https://www.lux.network/legal"><div class="footer-list">Legal</div></a></div></div></div></div><div class="footer__bottom text--center"><div class="footer__copyright" style="font-size:small;padding:15px">Copyright ¬© <!-- -->2023<!-- --> <a href="https://www.lux.network/terms-of-use" class="hover">Lux Partners Limited</a></div></div></div></footer></div>
</body>
</html>
"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2126],{76633:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>d,toc:()=>r});var s=t(85893),a=t(11151);const i={tags:["Tooling","Lux-CLI"],description:"This page demonstrates how to setup a Devnet of cloud-based validators using the Lux-CLI.",pagination_label:"Setup a Devnet of Cloud-Based validators using Lux-CLI",sidebar_label:"Setup a Devnet",sidebar_position:8},o="Setup a Devnet Using Lux-CLI",d={id:"tooling/cli-guides/setup-a-devnet",title:"Setup a Devnet Using Lux-CLI",description:"This page demonstrates how to setup a Devnet of cloud-based validators using the Lux-CLI.",source:"@site/docs/tooling/cli-guides/setup-a-devnet.md",sourceDirName:"tooling/cli-guides",slug:"/tooling/cli-guides/setup-a-devnet",permalink:"/tooling/cli-guides/setup-a-devnet",draft:!1,unlisted:!1,editUrl:"https://github.com/luxdefi/docs/edit/master/docs/tooling/cli-guides/setup-a-devnet.md",tags:[{label:"Tooling",permalink:"/tags/tooling"},{label:"Lux-CLI",permalink:"/tags/lux-cli"}],version:"current",sidebarPosition:8,frontMatter:{tags:["Tooling","Lux-CLI"],description:"This page demonstrates how to setup a Devnet of cloud-based validators using the Lux-CLI.",pagination_label:"Setup a Devnet of Cloud-Based validators using Lux-CLI",sidebar_label:"Setup a Devnet",sidebar_position:8},sidebar:"tooling",previous:{title:"Deploy a Custom VM to a set of Cloud-Based validators using Lux-CLI",permalink:"/tooling/cli-guides/upload-a-custom-vm-to-cloud"},next:{title:"Execute a SSH command on all nodes of a Cluster.",permalink:"/tooling/cli-guides/node-ssh"}},l={},r=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Choose a Deployment Method",id:"choose-a-deployment-method",level:2},{value:"Step by Step",id:"step-by-step",level:2},{value:"Creating the Devnet",id:"creating-the-devnet",level:3},{value:"Deploying the Subnet into the Devnet",id:"deploying-the-subnet-into-the-devnet",level:3},{value:"Syncing the Subnet",id:"syncing-the-subnet",level:3},{value:"Validating the Subnet",id:"validating-the-subnet",level:3},{value:"Single Command",id:"single-command",level:2},{value:"Create a Devnet and Deploy a Subnet into It",id:"create-a-devnet-and-deploy-a-subnet-into-it",level:3},{value:"Create a Devnet, Create a Custom VM based Subnet, and Deploy It",id:"create-a-devnet-create-a-custom-vm-based-subnet-and-deploy-it",level:3},{value:"Prerequisites",id:"prerequisites-1",level:4},{value:"Custom VM",id:"custom-vm",level:4},{value:"Execute Wiz",id:"execute-wiz",level:4}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"setup-a-devnet-using-lux-cli",children:"Setup a Devnet Using Lux-CLI"}),"\n",(0,s.jsx)(n.p,{children:"This page demonstrates how to setup a Devnet of cloud-based validators using Lux-CLI,\nand deploy a VM into it."}),"\n",(0,s.jsx)(n.p,{children:"Devnets (Developer Networks) are isolated lux networks deployed on the cloud. Similar to local networks\nin terms of configuration and usage but installed on remote nodes."}),"\n",(0,s.jsx)(n.p,{children:"Think of DevNets as being an intermediate step in the developer testing process after local network and before Testnet network."}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsx)(n.p,{children:"ALPHA WARNING: This command is currently in experimental mode. Proceed at your own risk."})}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsx)(n.p,{children:"Before we begin, you will need to have:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Created an AWS account and have an updated AWS ",(0,s.jsx)(n.code,{children:"credentials"})," file in home directory with [default] profile"]}),"\n",(0,s.jsxs)(n.li,{children:["Install ",(0,s.jsx)(n.a,{href:"https://developer.hashicorp.com/terraform/tutorials/aws-get-started/install-cli",children:"Terraform"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.a,{href:"/build/subnet/deploy/testnet-subnet#create-an-evm-subnet",children:["Created a Subnet configuration ",(0,s.jsx)(n.code,{children:"<SubnetName>"})]})," based on SubnetEVM."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Note: the tutorial is based in AWS, but Devnets can also be created and operated in other supported\ncloud providers, such as GCP."}),"\n",(0,s.jsx)(n.h2,{id:"choose-a-deployment-method",children:"Choose a Deployment Method"}),"\n",(0,s.jsx)(n.p,{children:"You can either use a sequence of prompt-based commands to get CLI to ask you all the required information for the setup, or\nexecute one command than encompasses all steps, with appropriate command line flags for all the needed info."}),"\n",(0,s.jsx)(n.p,{children:"For the second case we provide two important use cases examples:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"creating a devnet an deploy a preexistent CLI Subnet (same example as the step by step)"}),"\n",(0,s.jsxs)(n.li,{children:["creating a devnet, create a Subnet based on a Custom VM, and deploy it (similar to ",(0,s.jsx)(n.a,{href:"/tooling/cli-guides/upload-a-custom-vm-to-cloud",children:"\nthis one"}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"step-by-step",children:"Step by Step"}),"\n",(0,s.jsx)(n.h3,{id:"creating-the-devnet",children:"Creating the Devnet"}),"\n",(0,s.jsx)(n.p,{children:"Start the Devnet creation command. It will ask for all needed params:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"lux node create <clusterName>\n"})}),"\n",(0,s.jsx)(n.p,{children:"Choose Devnet for the network:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"? Choose a network for the operation:\n    Testnet\n  \u25b8 Devnet\n"})}),"\n",(0,s.jsx)(n.p,{children:"Then you will be asked on the cloud provider to use. Use AWS:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"? Which cloud service would you like to launch your Lux Node(s) in?:\n  \u25b8 Amazon Web Services\n    Google Cloud Platform\n"})}),"\n",(0,s.jsx)(n.p,{children:"Then, specify a network of 5 nodes (it can be from 2 onwards):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"\u2717 How many nodes do you want to set up?: 5\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Then select the AWS region ",(0,s.jsx)(n.code,{children:"us-east-1"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:" Which AWS region do you want to set up your node in?:\n  \u25b8 us-east-1\n    us-east-2\n    us-west-1\n    us-west-2\n    Choose custom region (list of regions available at https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html)\n"})}),"\n",(0,s.jsx)(n.p,{children:"Give authorization to access AWS resources on behalf of the user:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"? I authorize Lux-CLI to access my AWS account:\n  \u25b8 Yes\n    No\n"})}),"\n",(0,s.jsx)(n.p,{children:"Now, the nodes will be created."}),"\n",(0,s.jsxs)(n.p,{children:["After that, you will be asked which Luxd version you want to install in the nodes. Select\nthe one associated to ",(0,s.jsx)(n.code,{children:"<subnetName>"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"...\nNew EC2 instance(s) successfully created in AWS!\n? What version of Lux Go would you like to install in the node?:\n    Use latest Lux Go Version\n  \u25b8 Use the deployed Subnet's VM version that the node will be validating\n    Custom\n\u2717 Which Subnet would you like to use to choose the lux go version?: <subnetName>\n\n...\n\nLuxd and Lux-CLI installed and node(s) are bootstrapping!\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You can check the Devnet setup with the ",(0,s.jsx)(n.code,{children:"node status"})," command:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"lux node status <clusterName>\nChecking if node(s) are bootstrapped to Primary Network ...\nChecking if node(s) are healthy ...\nGetting luxd version of node(s)\nAll nodes in cluster <clusterName> are bootstrapped to Primary Network!\n\nSTATUS FOR CLUSTER: <clusterName>\n=================================\n\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+\n|      CLOUD ID       |                 NODE ID                  |       IP       | NETWORK | LUXD VERSION | PRIMARY NETWORK | HEALTHY |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+\n| i-06f320b47e02a728b | NodeID-Gyae6B7D4UdYuZ2h7WcKomFp7NRAApPq5 | 3.212.170.192  | Devnet  | v1.10.16      | BOOTSTRAPPED    | OK      |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+\n| i-0e66a50effc15f5bd | NodeID-4cNMiepvj71dAqPoKGQh8pEksYacpDF5U | 52.44.30.153   | Devnet  | v1.10.16      | BOOTSTRAPPED    | OK      |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+\n| i-0329d919d1b0adc52 | NodeID-NSRM8DscQb81oaFDYhhVfZZGt2GWMPyWk | 34.205.184.11  | Devnet  | v1.10.16      | BOOTSTRAPPED    | OK      |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+\n| i-0533fb4ed4f521f5a | NodeID-ASuFNx1Hg4nQR3HDAmnSa9G8CWqmcjBbQ | 34.207.4.124   | Devnet  | v1.10.16      | BOOTSTRAPPED    | OK      |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+\n| i-0ed9f7d7e049fe42b | NodeID-Phcq9zSLxfCzxsgNqzQwMYe1wxr9rFCuf | 100.25.120.218 | Devnet  | v1.10.16      | BOOTSTRAPPED    | OK      |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+\n"})}),"\n",(0,s.jsx)(n.h3,{id:"deploying-the-subnet-into-the-devnet",children:"Deploying the Subnet into the Devnet"}),"\n",(0,s.jsx)(n.p,{children:"At this point, you have a working Devnet, but no Subnet association:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"lux node status <clusterName> --subnet <subnetName>\nChecking if node(s) are bootstrapped to Primary Network ...\nChecking if node(s) are healthy ...\nGetting luxd version of node(s)\nError: failed to find the blockchain ID for this subnet, has it been deployed/created on this network?\nexit status 1\n"})}),"\n",(0,s.jsxs)(n.p,{children:["So, next step is to deploy ",(0,s.jsx)(n.code,{children:"<subnetName>"})," into ",(0,s.jsx)(n.code,{children:"<clusterName>"}),". So as to create the Subnet and blockchain transactions\nneeded for posterior syncing and validation of the Subnet."]}),"\n",(0,s.jsxs)(n.p,{children:["While the ",(0,s.jsx)(n.code,{children:"subnet deploy"})," command can be used ",(0,s.jsx)(n.a,{href:"/build/subnet/deploy/testnet-subnet#deploy-the-subnet",children:"as described here"}),",\ndeploying into Devnets is a subset of that operation, and so a quickest command is provided."]}),"\n",(0,s.jsx)(n.p,{children:"It automatically takes into account the API endpoint of the Devnet, and use a common funding option for Devnets, known as EWOQ keys."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"lux node devnet deploy <clusterName> <subnetName>\nChecking if node(s) are healthy ...\nChecking compatibility of node(s) lux go version with Subnet EVM RPC of subnet <subnetName> ...\nDeploying [<subnetName>] to Devnet\nLoading EWOQ key\nYour Subnet's control keys: [P-custom18jma8ppw3nhx5r4ap8clazz0dps7rv5u9xde7p]\nYour subnet auth keys for chain creation: [P-custom18jma8ppw3nhx5r4ap8clazz0dps7rv5u9xde7p]\nSubnet has been created with ID: giY8tswWgZmcAWzPkoNrmjjrykited7GJ9799SsFzTiq5a1ML\nNow creating blockchain...\n+--------------------+----------------------------------------------------+\n| DEPLOYMENT RESULTS |                                                    |\n+--------------------+----------------------------------------------------+\n| Chain Name         | subnetName                                         |\n+--------------------+----------------------------------------------------+\n| Subnet ID          | giY8tswWgZmcAWzPkoNrmjjrykited7GJ9799SsFzTiq5a1ML  |\n+--------------------+----------------------------------------------------+\n| VM ID              | srEXiWaHjBgJPLWjtprZFhiFnFJkY2URD4ug4SJdAnLbkBBGm  |\n+--------------------+----------------------------------------------------+\n| Blockchain ID      | 2Hm4V6jYrRTv2efTSHwky51yLd6KvFBUUuSRkwm1TomEXsSzKj |\n+--------------------+                                                    +\n| P-Chain TXID       |                                                    |\n+--------------------+----------------------------------------------------+\nSubnet successfully deployed into devnet!\n"})}),"\n",(0,s.jsx)(n.p,{children:"You can now check the updated status:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"lux node status <clusterName> --subnet <subnetName>\nChecking if node(s) are bootstrapped to Primary Network ...\nChecking if node(s) are healthy ...\nGetting luxd version of node(s)\nGetting subnet sync status of node(s)\n\nSTATUS FOR CLUSTER: <clusterName>\n=================================\n\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+------------------+\n|      CLOUD ID       |                 NODE ID                  |       IP       | NETWORK | LUXD VERSION | PRIMARY NETWORK | HEALTHY |  SUBNET SUBNET1  |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+------------------+\n| i-02825a7abd3933969 | NodeID-5ocvR3Fw2dKyrUF45nwbSXnd7cb3nyq9a | 44.206.157.218 | Devnet  | v1.10.16      | BOOTSTRAPPED    | OK      | NOT_BOOTSTRAPPED |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+------------------+\n| i-0a008d94ba7c61f40 | NodeID-Betdv9jBp2QNtf1KgL1cy2pXAuxudMHQA | 34.205.243.57  | Devnet  | v1.10.16      | BOOTSTRAPPED    | OK      | NOT_BOOTSTRAPPED |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+------------------+\n| i-0bf856134cd60f5f8 | NodeID-LymKbUAvLTcT7BPrfAJcm1fjJViWrjdAM | 3.216.85.230   | Devnet  | v1.10.16      | BOOTSTRAPPED    | OK      | NOT_BOOTSTRAPPED |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+------------------+\n| i-05fc163dc2eefafef | NodeID-4TyRp3MxHQXzfrB27V91txppvegeaapyd | 44.217.75.32   | Devnet  | v1.10.16      | BOOTSTRAPPED    | OK      | NOT_BOOTSTRAPPED |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+------------------+\n| i-03697de53219c71b0 | NodeID-EZ3Xt1tm3WyUzMSKmVzg4ahcdnQ1dZGBT | 3.227.214.222  | Devnet  | v1.10.16      | BOOTSTRAPPED    | OK      | NOT_BOOTSTRAPPED |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+------------------+\n"})}),"\n",(0,s.jsx)(n.h3,{id:"syncing-the-subnet",children:"Syncing the Subnet"}),"\n",(0,s.jsx)(n.p,{children:"Next step is for the Devnet nodes to start keeping up to date with the Subnet state, while executing the Subnet Virtual Machine."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"lux node sync <clusterName> <subnetName>\nChecking if node(s) are bootstrapped to Primary Network ...\nChecking if node(s) are healthy ...\nChecking compatibility of node(s) lux go version with Subnet EVM RPC of subnet <subnetName> ...\n[aws_node_i-0bf856134cd60f5f8] Track Subnet\n[aws_node_i-03697de53219c71b0] Track Subnet\n[aws_node_i-0a008d94ba7c61f40] Track Subnet\n[aws_node_i-05fc163dc2eefafef] Track Subnet\n[aws_node_i-02825a7abd3933969] Track Subnet\nNode(s) successfully started syncing with Subnet!\nCheck node subnet syncing status with lux node status <clusterName> --subnet <subnetName>\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"Let's check the updated status:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"lux node status <clusterName> --subnet <subnetName>\nChecking if node(s) are bootstrapped to Primary Network ...\nChecking if node(s) are healthy ...\nGetting luxd version of node(s)\nGetting subnet sync status of node(s)\nAll nodes in cluster <clusterName> are synced to Subnet <subnetaName>\n\nSTATUS FOR CLUSTER: <clusterName>\n=================================\n\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+----------------+\n|      CLOUD ID       |                 NODE ID                  |       IP       | NETWORK | LUXD VERSION | PRIMARY NETWORK | HEALTHY | SUBNET SUBNET1 |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+----------------+\n| i-02825a7abd3933969 | NodeID-5ocvR3Fw2dKyrUF45nwbSXnd7cb3nyq9a | 44.206.157.218 | Devnet  | v1.10.16      | BOOTSTRAPPED    | OK      | SYNCED         |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+----------------+\n| i-0a008d94ba7c61f40 | NodeID-Betdv9jBp2QNtf1KgL1cy2pXAuxudMHQA | 34.205.243.57  | Devnet  | v1.10.16      | BOOTSTRAPPED    | OK      | SYNCED         |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+----------------+\n| i-0bf856134cd60f5f8 | NodeID-LymKbUAvLTcT7BPrfAJcm1fjJViWrjdAM | 3.216.85.230   | Devnet  | v1.10.16      | BOOTSTRAPPED    | OK      | SYNCED         |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+----------------+\n| i-05fc163dc2eefafef | NodeID-4TyRp3MxHQXzfrB27V91txppvegeaapyd | 44.217.75.32   | Devnet  | v1.10.16      | BOOTSTRAPPED    | OK      | SYNCED         |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+----------------+\n| i-03697de53219c71b0 | NodeID-EZ3Xt1tm3WyUzMSKmVzg4ahcdnQ1dZGBT | 3.227.214.222  | Devnet  | v1.10.16      | BOOTSTRAPPED    | OK      | SYNCED         |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+----------------+\n"})}),"\n",(0,s.jsx)(n.h3,{id:"validating-the-subnet",children:"Validating the Subnet"}),"\n",(0,s.jsx)(n.p,{children:"Latest step is to add the nodes as Subnet validators, so as the Devnet can change the Subnet state under user request."}),"\n",(0,s.jsxs)(n.p,{children:["While you can follow ",(0,s.jsx)(n.a,{href:"/tooling/cli-guides/validate-subnets#be-a-subnet-validator",children:"the instructions here"}),", for this\ntutorial we opt for providing the flag ",(0,s.jsx)(n.code,{children:"--default-validator-params"}),", that set for the user most common validator params:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"lux node validate subne <clusterName> <subnetName> --default-validator-params\nLoading EWOQ key\nChecking if node(s) are bootstrapped to Primary Network ...\nChecking if node(s) are healthy ...\nLux node id for host aws_node_i-02825a7abd3933969 is NodeID-5ocvR3Fw2dKyrUF45nwbSXnd7cb3nyq9a\nLux node id for host aws_node_i-0a008d94ba7c61f40 is NodeID-Betdv9jBp2QNtf1KgL1cy2pXAuxudMHQA\nLux node id for host aws_node_i-0bf856134cd60f5f8 is NodeID-LymKbUAvLTcT7BPrfAJcm1fjJViWrjdAM\nLux node id for host aws_node_i-05fc163dc2eefafef is NodeID-4TyRp3MxHQXzfrB27V91txppvegeaapyd\nLux node id for host aws_node_i-03697de53219c71b0 is NodeID-EZ3Xt1tm3WyUzMSKmVzg4ahcdnQ1dZGBT\n...\nAll nodes in cluster <clusterName> are successfully added as Subnet validators!\n"})}),"\n",(0,s.jsx)(n.p,{children:"And the final status is:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"lux node status <clusterName> --subnet <subnetName>\nChecking if node(s) are bootstrapped to Primary Network ...\nChecking if node(s) are healthy ...\nGetting luxd version of node(s)\nGetting subnet sync status of node(s)\nAll nodes in cluster <clusterName> are synced to Subnet <subnetaName>\n\nSTATUS FOR CLUSTER: <clusterName>\n=================================\n\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+----------------+\n|      CLOUD ID       |                 NODE ID                  |       IP       | NETWORK | LUXD VERSION | PRIMARY NETWORK | HEALTHY | SUBNET SUBNET1 |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+----------------+\n| i-02825a7abd3933969 | NodeID-5ocvR3Fw2dKyrUF45nwbSXnd7cb3nyq9a | 44.206.157.218 | Devnet  | v1.10.16      | BOOTSTRAPPED    | OK      | VALIDATING     |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+----------------+\n| i-0a008d94ba7c61f40 | NodeID-Betdv9jBp2QNtf1KgL1cy2pXAuxudMHQA | 34.205.243.57  | Devnet  | v1.10.16      | BOOTSTRAPPED    | OK      | VALIDATING     |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+----------------+\n| i-0bf856134cd60f5f8 | NodeID-LymKbUAvLTcT7BPrfAJcm1fjJViWrjdAM | 3.216.85.230   | Devnet  | v1.10.16      | BOOTSTRAPPED    | OK      | VALIDATING     |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+----------------+\n| i-05fc163dc2eefafef | NodeID-4TyRp3MxHQXzfrB27V91txppvegeaapyd | 44.217.75.32   | Devnet  | v1.10.16      | BOOTSTRAPPED    | OK      | VALIDATING     |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+----------------+\n| i-03697de53219c71b0 | NodeID-EZ3Xt1tm3WyUzMSKmVzg4ahcdnQ1dZGBT | 3.227.214.222  | Devnet  | v1.10.16      | BOOTSTRAPPED    | OK      | VALIDATING     |\n+---------------------+------------------------------------------+----------------+---------+---------------+-----------------+---------+----------------+\n"})}),"\n",(0,s.jsx)(n.h2,{id:"single-command",children:"Single Command"}),"\n",(0,s.jsx)(n.h3,{id:"create-a-devnet-and-deploy-a-subnet-into-it",children:"Create a Devnet and Deploy a Subnet into It"}),"\n",(0,s.jsxs)(n.p,{children:["CLI provides the ",(0,s.jsx)(n.code,{children:"devnet wiz"})," command that takes care of all the mentioned steps."]}),"\n",(0,s.jsx)(n.p,{children:"As other CLI commands, all the options can be specified by command line flag instead of having the user\ninteractively provide the inputs."}),"\n",(0,s.jsx)(n.p,{children:"As reference we provide example of the flags setting needed for this tutorial:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"lux node devnet wiz <clusterName> <subnetName> --authorize-access\\\n  --aws --num-nodes 5 --region us-east-1 --default-validator-params\n\nCreating the devnet\n...\nWaiting for node(s) in cluster <clusterName> to be healthy...\n...\nNodes healthy after 33 seconds\n\nDeploying the subnet\n...\nSetting the nodes as subnet trackers\n...\nWaiting for node(s) in cluster <clusterName>to be healthy...\nNodes healthy after 33 seconds\n...\nWaiting for node(s) in cluster <clusterName> to be syncing subnet <subnetName>...\nNodes Syncing <subnetName> after 5 seconds\n\nAdding nodes as subnet validators\n...\nWaiting for node(s) in cluster <clusterName> to be validating subnet <subnetName>...\nNodes Validating <subnetName> after 23 seconds\n\nDevnet <clusterName> has been created and is validating subnet <subnetName>!\n"})}),"\n",(0,s.jsx)(n.h3,{id:"create-a-devnet-create-a-custom-vm-based-subnet-and-deploy-it",children:"Create a Devnet, Create a Custom VM based Subnet, and Deploy It"}),"\n",(0,s.jsx)(n.h4,{id:"prerequisites-1",children:"Prerequisites"}),"\n",(0,s.jsx)(n.p,{children:"You will need to have:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Created a Custom VM, as described ",(0,s.jsx)(n.a,{href:"/build/vm/intro",children:"here"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"custom-vm",children:"Custom VM"}),"\n",(0,s.jsxs)(n.p,{children:["The tutorial will create exactly the same Custom VM as ",(0,s.jsx)(n.a,{href:"/tooling/cli-guides/upload-a-custom-vm-to-cloud",children:"here"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Based on the Custom VM tutorial, we will be deploying the ",(0,s.jsx)(n.a,{href:"https://github.com/luxdefi/hypersdk/tree/main/examples/tokenvm",children:"TokenVM"}),"\nexample built with the HyperSDK."]}),"\n",(0,s.jsx)(n.p,{children:"The following settings will be used:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<repoUrl>"})," ",(0,s.jsx)(n.code,{children:"https://github.com/luxdefi/hypersdk/"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<branch>"})," ",(0,s.jsx)(n.code,{children:"main"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<buildScript>"})," ",(0,s.jsx)(n.code,{children:"examples/tokenvm/scripts/build.sh"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Following the Custom VM tutorial, create the needed input files, and set their paths to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<genesisPath>"})," ",(0,s.jsx)(n.a,{href:"/tooling/cli-guides/upload-a-custom-vm-to-cloud#genesis-file",children:"Genesis File"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<chainConfigPath>"})," ",(0,s.jsx)(n.a,{href:"/tooling/cli-guides/upload-a-custom-vm-to-cloud#blockchain-config",children:"Blockchain Config"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<subnetConfigPath>"})," ",(0,s.jsx)(n.a,{href:"/tooling/cli-guides/upload-a-custom-vm-to-cloud#subnet-config",children:"Subnet Config"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<avagoConfigPath>"})," ",(0,s.jsx)(n.a,{href:"/tooling/cli-guides/upload-a-custom-vm-to-cloud#luxd-flags",children:"Luxd Config"})]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"execute-wiz",children:"Execute Wiz"}),"\n",(0,s.jsx)(n.p,{children:"Now we are ready to execute the Devnet Wizard. It it going to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"create the Subnet configuration, generating also the local VM binary"}),"\n",(0,s.jsx)(n.li,{children:"create the Devnet"}),"\n",(0,s.jsx)(n.li,{children:"deploy the Subnet into the Devnet"}),"\n",(0,s.jsx)(n.li,{children:"make the Devnet nodes to start tracking the Subnet"}),"\n",(0,s.jsx)(n.li,{children:"make the Devnet nodes to start validating the Subnet"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["The command assumes ",(0,s.jsx)(n.code,{children:"<clusterName>"})," and ",(0,s.jsx)(n.code,{children:"<subnetName>"})," have not been previously created."]}),"\n",(0,s.jsx)(n.p,{children:"The full command line is:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"lux node devnet wiz <clusterName> <subnetName> --custom-subnet \\\n  --subnet-genesis <genesisPath> --custom-vm-repo-url <repoUrl> \\\n  --custom-vm-branch <branch> --custom-vm-build-script <buildScript> \\\n  --chain-config <chainConfigPath> --subnet-config <subnetConfigPath> \\\n  --node-config <avagoConfigPath> --authorize-access --aws --num-nodes 5 \\\n  --region us-east-1 --default-validator-params\n\nCreating the subnet\n...\nCreating the devnet\n...\nWaiting for node(s) in cluster <clusterName> to be healthy...\n...\nNodes healthy after 33 seconds\n\nDeploying the subnet\n...\nSetting the nodes as subnet trackers\n...\nWaiting for node(s) in cluster <clusterName>to be healthy...\nNodes healthy after 33 seconds\n...\nWaiting for node(s) in cluster <clusterName> to be syncing subnet <subnetName>...\nNodes Syncing <subnetName> after 5 seconds\n\nAdding nodes as subnet validators\n...\nWaiting for node(s) in cluster <clusterName> to be validating subnet <subnetName>...\nNodes Validating <subnetName> after 23 seconds\n\nDevnet <clusterName> has been created and is validating subnet <subnetName>!\n"})})]})}function u(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>d,a:()=>o});var s=t(67294);const a={},i=s.createContext(a);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);
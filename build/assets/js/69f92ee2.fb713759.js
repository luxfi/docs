"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[13],{85095:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>d});var o=t(85893),s=t(11151);const i={tags:["Nodes"],description:"In this tutorial, you'll learn how to download and install Luxd using the installation script.",sidebar_label:"Installing Luxd",sidebar_position:1},l="Installing Luxd Using the Script",r={id:"nodes/run/with-installer/installing-avalanchego",title:"Installing Luxd Using the Script",description:"In this tutorial, you'll learn how to download and install Luxd using the installation script.",source:"@site/docs/nodes/run/with-installer/installing-avalanchego.md",sourceDirName:"nodes/run/with-installer",slug:"/nodes/run/with-installer/installing-avalanchego",permalink:"/nodes/run/with-installer/installing-avalanchego",draft:!1,unlisted:!1,editUrl:"https://github.com/luxdefi/docs/edit/main/docs/nodes/run/with-installer/installing-avalanchego.md",tags:[{label:"Nodes",permalink:"/tags/nodes"}],version:"current",sidebarPosition:1,frontMatter:{tags:["Nodes"],description:"In this tutorial, you'll learn how to download and install Luxd using the installation script.",sidebar_label:"Installing Luxd",sidebar_position:1},sidebar:"nodes",previous:{title:"Preparing Your Environment",permalink:"/nodes/run/with-installer/preparing-your-environment"},next:{title:"Installing Luxd",permalink:"/nodes/run/with-installer/installing-luxd"}},a={},d=[{value:"Running the Script",id:"running-the-script",level:2},{value:"Post Installation",id:"post-installation",level:2}];function c(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"installing-luxd-using-the-script",children:"Installing Luxd Using the Script"}),"\n",(0,o.jsx)(n.h2,{id:"running-the-script",children:"Running the Script"}),"\n",(0,o.jsx)(n.p,{children:"So, now that you prepared your system and have the info ready, let's get to it."}),"\n",(0,o.jsx)(n.p,{children:"To download and run the script, enter the following in the terminal:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"wget -nd -m https://raw.githubusercontent.com/luxdefi/docs/master/scripts/luxd-installer.sh;\\\nchmod 755 luxd-installer.sh;\\\n./luxd-installer.sh\n"})}),"\n",(0,o.jsx)(n.p,{children:"And we're off! The output should look something like this:"}),"\n",(0,o.jsxs)(t,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)("b",{children:"Click to see the Terminal output"})}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-text",children:'Luxd installer\n---------------------\nPreparing environment...\nFound arm64 architecture...\nLooking for the latest arm64 build...\nWill attempt to download:\n https://github.com/luxdefi/luxd/releases/download/v1.1.1/luxd-linux-arm64-v1.1.1.tar.gz\nluxd-linux-arm64-v1.1.1.tar.gz 100%[=========================================================================>]  29.83M  75.8MB/s    in 0.4s\n2020-12-28 14:57:47 URL:https://github-production-release-asset-2e65be.s3.amazonaws.com/246387644/f4d27b00-4161-11eb-8fb2-156a992fd2c8?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20201228%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20201228T145747Z&X-Amz-Expires=300&X-Amz-Signature=ea838877f39ae940a37a076137c4c2689494c7e683cb95a5a4714c062e6ba018&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=246387644&response-content-disposition=attachment%3B%20filename%3Dluxd-linux-arm64-v1.1.1.tar.gz&response-content-type=application%2Foctet-stream [31283052/31283052] -> "luxd-linux-arm64-v1.1.1.tar.gz" [1]\nUnpacking node files...\nluxd-v1.1.1/plugins/\nluxd-v1.1.1/plugins/evm\nluxd-v1.1.1/luxd\nNode files unpacked into /home/ubuntu/node\n'})})]}),"\n",(0,o.jsx)(n.p,{children:"And then the script will prompt you for information about the network environment:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-text",children:"To complete the setup some networking information is needed.\nWhere is the node installed:\n1) residential network (dynamic IP)\n2) cloud provider (static IP)\nEnter your connection type [1,2]:\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Enter ",(0,o.jsx)(n.code,{children:"1"})," if you have dynamic IP, and ",(0,o.jsx)(n.code,{children:"2"})," if you have a static IP. If you are on\na static IP, it will try to auto-detect the IP and ask for confirmation."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-text",children:"Detected '3.15.152.14' as your public IP. Is this correct? [y,n]:\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Confirm with ",(0,o.jsx)(n.code,{children:"y"}),", or ",(0,o.jsx)(n.code,{children:"n"})," if the detected IP is wrong (or empty), and then enter\nthe correct IP at the next prompt."]}),"\n",(0,o.jsx)(n.p,{children:"Next, you have to set up RPC port access for your node. Those are used to query\nthe node for its internal state, to send commands to the node, or to interact\nwith the platform and its chains (sending transactions, for example). You will\nbe prompted:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-text",children:"RPC port should be public (this is a public API node) or private (this is a validator)? [public, private]:\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"private"}),": this setting only allows RPC requests from the node machine itself."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"public"}),": this setting exposes the RPC port to all network interfaces."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["As this is a sensitive setting you will be asked to confirm if choosing\n",(0,o.jsx)(n.code,{children:"public"}),". Please read the following note carefully:"]}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["If you choose to allow RPC requests on any network interface you will need\nto set up a firewall to only let through RPC requests from known IP addresses,\notherwise your node will be accessible to anyone and might be overwhelmed by\nRPC calls from malicious actors! If you do not plan to use your node to send\nRPC calls remotely, enter ",(0,o.jsx)(n.code,{children:"private"}),"."]})}),"\n",(0,o.jsx)(n.p,{children:"The script will then prompt you to choose whether to enable state sync setting\nor not:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-text",children:"Do you want state sync bootstrapping to be turned on or off? [on, off]:\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Turning state sync on will greatly increase the speed of bootstrapping, but\nwill sync only the current network state. If you intend to use your node for\naccessing historical data (archival node) you should select ",(0,o.jsx)(n.code,{children:"off"}),". Otherwise,\nselect ",(0,o.jsx)(n.code,{children:"on"}),". Validators can be bootstrapped with state sync turned on."]}),"\n",(0,o.jsx)(n.p,{children:"The script will then continue with system service creation and finish with\nstarting the service."}),"\n",(0,o.jsxs)(t,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)("b",{children:"Click to see the final output"})}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-text",children:"Created symlink /etc/systemd/system/multi-user.target.wants/luxd.service \u2192 /etc/systemd/system/luxd.service.\n\nDone!\n\nYour node should now be bootstrapping.\nNode configuration file is /home/ubuntu/.luxd/configs/node.json\nC-Chain configuration file is /home/ubuntu/.luxd/configs/chains/C/config.json\nPlugin directory, for storing subnet VM binaries, is /home/ubuntu/.luxd/plugins\nTo check that the service is running use the following command (q to exit):\nsudo systemctl status luxd\nTo follow the log use (ctrl-c to stop):\nsudo journalctl -u luxd -f\n\nReach us over on https://chat.lux.network if you're having problems.\n"})})]}),"\n",(0,o.jsx)(n.p,{children:"The script is finished, and you should see the system prompt again."}),"\n",(0,o.jsx)(n.h2,{id:"post-installation",children:"Post Installation"}),"\n",(0,o.jsx)(n.p,{children:"Luxd should be running in the background as a service. You can check that it's running with:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo systemctl status luxd\n"})}),"\n",(0,o.jsx)(n.p,{children:"Below is an example of what the node's latest logs should look like:"}),"\n",(0,o.jsxs)(t,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)("b",{children:"Click to expand and see the Logs"})}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-text",children:'\u25cf luxd.service - Luxd systemd service\nLoaded: loaded (/etc/systemd/system/luxd.service; enabled; vendor preset: enabled)\nActive: active (running) since Tue 2021-01-05 10:38:21 UTC; 51s ago\nMain PID: 2142 (luxd)\nTasks: 8 (limit: 4495)\nMemory: 223.0M\nCGroup: /system.slice/luxd.service\n\u2514\u25002142 /home/ubuntu/node/luxd --public-ip-resolution-service=opendns --http-host=\n\nJan 05 10:38:45 ip-172-31-30-64 luxd[2142]: INFO [01-05|10:38:45] <P Chain> luxd/vms/platformvm/vm.go#322: initializing last accepted block as 2FUFPVPxbTpKNn39moGSzsmGroYES4NZRdw3mJgNvMkMiMHJ9e\nJan 05 10:38:45 ip-172-31-30-64 luxd[2142]: INFO [01-05|10:38:45] <P Chain> luxd/snow/engine/snowman/transitive.go#58: initializing consensus engine\nJan 05 10:38:45 ip-172-31-30-64 luxd[2142]: INFO [01-05|10:38:45] luxd/api/server.go#143: adding route /ext/bc/11111111111111111111111111111111LpoYY\nJan 05 10:38:45 ip-172-31-30-64 luxd[2142]: INFO [01-05|10:38:45] luxd/api/server.go#88: HTTP API server listening on ":9650"\nJan 05 10:38:58 ip-172-31-30-64 luxd[2142]: INFO [01-05|10:38:58] <P Chain> luxd/snow/engine/common/bootstrapper.go#185: Bootstrapping started syncing with 1 vertices in the accepted frontier\nJan 05 10:39:02 ip-172-31-30-64 luxd[2142]: INFO [01-05|10:39:02] <P Chain> luxd/snow/engine/snowman/bootstrap/bootstrapper.go#210: fetched 2500 blocks\nJan 05 10:39:04 ip-172-31-30-64 luxd[2142]: INFO [01-05|10:39:04] <P Chain> luxd/snow/engine/snowman/bootstrap/bootstrapper.go#210: fetched 5000 blocks\nJan 05 10:39:06 ip-172-31-30-64 luxd[2142]: INFO [01-05|10:39:06] <P Chain> luxd/snow/engine/snowman/bootstrap/bootstrapper.go#210: fetched 7500 blocks\nJan 05 10:39:09 ip-172-31-30-64 luxd[2142]: INFO [01-05|10:39:09] <P Chain> luxd/snow/engine/snowman/bootstrap/bootstrapper.go#210: fetched 10000 blocks\nJan 05 10:39:11 ip-172-31-30-64 luxd[2142]: INFO [01-05|10:39:11] <P Chain> luxd/snow/engine/snowman/bootstrap/bootstrapper.go#210: fetched 12500 blocks\n'})})]}),"\n",(0,o.jsxs)(n.p,{children:["Note the ",(0,o.jsx)(n.code,{children:"active (running)"})," which indicates the service is running OK. You may\nneed to press ",(0,o.jsx)(n.code,{children:"q"})," to return to the command prompt."]}),"\n",(0,o.jsx)(n.p,{children:"To find out your NodeID, which is used to identify your node to the network, run the following command:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'sudo journalctl -u luxd | grep "NodeID"\n'})}),"\n",(0,o.jsx)(n.p,{children:"It will produce output like:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-text",children:"Jan 05 10:38:38 ip-172-31-30-64 luxd[2142]: INFO [01-05|10:38:38] luxd/node/node.go#428: Set node's ID to 6seStrauyCnVV7NEVwRbfaT9B6EnXEzfY\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Prepend ",(0,o.jsx)(n.code,{children:"NodeID-"})," to the value to get, for example,\n",(0,o.jsx)(n.code,{children:"NodeID-6seStrauyCnVV7NEVwRbfaT9B6EnXEzfY"}),". Store that; it will be needed for\nstaking or looking up your node."]}),"\n",(0,o.jsx)(n.p,{children:"Your node should be in the process of bootstrapping now. You can monitor the\nprogress by issuing the following command:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo journalctl -u luxd -f\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Press ",(0,o.jsx)(n.code,{children:"ctrl+C"})," when you wish to stop reading node output."]})]})}function u(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>l});var o=t(67294);const s={},i=o.createContext(s);function l(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);
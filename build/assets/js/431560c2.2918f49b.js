"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8390],{83937:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>c,frontMatter:()=>o,metadata:()=>r,toc:()=>d});var a=n(85893),i=n(11151);const o={tags:["Tooling","Lux-CLI"],description:"This page demonstrates how to configure nodes to validate an Lux Subnet. Validation via Lux-CLI is currently only supported on Testnet.",pagination_label:"Configure Nodes to Validate a Subnet with Lux-CLI",sidebar_label:"Validate a Subnet",sidebar_position:5},s="Configure a Node to Validate a Subnet with Lux-CLI",r={id:"tooling/cli-guides/validate-subnets",title:"Configure a Node to Validate a Subnet with Lux-CLI",description:"This page demonstrates how to configure nodes to validate an Lux Subnet. Validation via Lux-CLI is currently only supported on Testnet.",source:"@site/docs/tooling/cli-guides/validate-subnets.md",sourceDirName:"tooling/cli-guides",slug:"/tooling/cli-guides/validate-subnets",permalink:"/tooling/cli-guides/validate-subnets",draft:!1,unlisted:!1,editUrl:"https://github.com/luxdefi/docs/edit/master/docs/tooling/cli-guides/validate-subnets.md",tags:[{label:"Tooling",permalink:"/tags/tooling"},{label:"Lux-CLI",permalink:"/tags/lux-cli"}],version:"current",sidebarPosition:5,frontMatter:{tags:["Tooling","Lux-CLI"],description:"This page demonstrates how to configure nodes to validate an Lux Subnet. Validation via Lux-CLI is currently only supported on Testnet.",pagination_label:"Configure Nodes to Validate a Subnet with Lux-CLI",sidebar_label:"Validate a Subnet",sidebar_position:5},sidebar:"tooling",previous:{title:"Configure Nodes to Validate the Primary Network with Lux-CLI",permalink:"/tooling/cli-guides/validate-primary-network"},next:{title:"Stop Nodes Originally Created with Lux-CLI",permalink:"/tooling/cli-guides/stop-node"}},l={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Sync with Subnet",id:"sync-with-subnet",level:2},{value:"Be a Subnet Validator",id:"be-a-subnet-validator",level:2}];function u(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h1,{id:"configure-a-node-to-validate-a-subnet-with-lux-cli",children:"Configure a Node to Validate a Subnet with Lux-CLI"}),"\n",(0,a.jsx)(t.p,{children:"This page demonstrates how to configure nodes to validate an Lux Subnet.\nValidation via Lux-CLI is currently only supported on Testnet."}),"\n",(0,a.jsx)(t.admonition,{type:"warning",children:(0,a.jsx)(t.p,{children:"ALPHA WARNING: This command is currently in experimental mode. Proceed at your own risk."})}),"\n",(0,a.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsx)(t.p,{children:"Before we begin, you will need to have:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Created a Cloud Server node as described for ",(0,a.jsx)(t.a,{href:"/tooling/cli-guides/create-a-validator-aws",children:"AWS"}),"\nor ",(0,a.jsx)(t.a,{href:"/tooling/cli-guides/create-a-validator-gcp",children:"GCP"})]}),"\n",(0,a.jsxs)(t.li,{children:["A node bootstrapped to the Primary Network (run ",(0,a.jsx)(t.code,{children:"lux node status <clusterName>"})," to check\nbootstrap status)"]}),"\n",(0,a.jsxs)(t.li,{children:["Deployed a Subnet on Testnet through CLI as described ",(0,a.jsx)(t.a,{href:"/build/subnet/deploy/testnet-subnet",children:"here"})]}),"\n",(0,a.jsxs)(t.li,{children:["Stored key / Ledger with LUX to pay for gas fess associated with adding node as Primary Network\nand Subnet Validator transactions. Instructions on how to fund stored key on Testnet can be found\n",(0,a.jsx)(t.a,{href:"/build/subnet/deploy/testnet-subnet#funding-the-key",children:"here"})]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"sync-with-subnet",children:"Sync with Subnet"}),"\n",(0,a.jsx)(t.p,{children:"Before the nodes can be Subnet Validators, the nodes need to first sync with the Subnet."}),"\n",(0,a.jsxs)(t.p,{children:["To have all nodes in cluster ",(0,a.jsx)(t.code,{children:"clusterName"})," sync with Subnet ",(0,a.jsx)(t.code,{children:"subnetName"}),", run:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"lux node sync <clusterName> <subnetName>\n"})}),"\n",(0,a.jsxs)(t.p,{children:["All the nodes in cluster ",(0,a.jsx)(t.code,{children:"clusterName"})," will now be syncing to Subnet ",(0,a.jsx)(t.code,{children:"subnetName"}),"."]}),"\n",(0,a.jsxs)(t.p,{children:["Wait until nodes are successfully ",(0,a.jsx)(t.code,{children:"Syncing"})," with the Subnet before running the next commands."]}),"\n",(0,a.jsxs)(t.p,{children:["To check sync status, run ",(0,a.jsx)(t.code,{children:"lux node status <clusterName> --subnet <subnetName>"}),". Once the\nnode is finished syncing, the response will be:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-text",children:"All nodes in cluster `clusterName` are synced to Subnet `subnetName`\n"})}),"\n",(0,a.jsx)(t.h2,{id:"be-a-subnet-validator",children:"Be a Subnet Validator"}),"\n",(0,a.jsx)(t.p,{children:"Once the nodes have synced, we can now have the nodes be Subnet Validators."}),"\n",(0,a.jsx)(t.p,{children:"To have the nodes be Subnet Validators, run:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-shell",children:"lux node validate subnet <clusterName> <subnetName>\n"})}),"\n",(0,a.jsx)(t.p,{children:"If any of the nodes is not yet a Primary Network Validator, we will first add it as a Primary\nNetwork Validator."}),"\n",(0,a.jsxs)(t.p,{children:["The wizard will ask us how we want to pay for the transaction fees.\nChoose ",(0,a.jsx)(t.code,{children:"Use stored key"})," for Testnet:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-text",children:" Which key source should be used to pay transaction fees?:\n  \u25b8 Use stored key\n    Use ledger\n"})}),"\n",(0,a.jsxs)(t.p,{children:["Once you have selected the key to pay with, choose how many LUX you would like to stake in the\nvalidator. Default is the minimum amount of LUX that can be staked in a Testnet Network Validator.\nMore info regarding minimum staking amount in different networks can be found ",(0,a.jsx)(t.a,{href:"/nodes/validate/how-to-stake#testnet",children:"here"}),"."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-text",children:" What stake weight would you like to assign to the validator?:\n  \u25b8 Default (1.00 LUX)\n    Custom\n"})}),"\n",(0,a.jsx)(t.p,{children:"Next, choose how long the node will be validating for:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-text",children:" How long should your validator validate for?:\n  \u25b8 Minimum staking duration on primary network\n    Custom\n"})}),"\n",(0,a.jsx)(t.p,{children:"Once all the inputs are completed you will see a transaction ID indicating that the node is now\na Primary Network Validator."}),"\n",(0,a.jsxs)(t.p,{children:["Note: if you see an error indicating that the transaction is not committed, run\n",(0,a.jsx)(t.code,{children:"lux node validate subnet <clusterName> <subnetName>"})," again as it could be due to\nthe validator start time having elapsed."]}),"\n",(0,a.jsx)(t.p,{children:"Next, we will wait for 20 seconds for the node to officially start as a Primary Network Validator."}),"\n",(0,a.jsx)(t.p,{children:"We will then proceed with adding the node as a Subnet Validator. Similar to adding the node as a\nPrimary Network Validator, the wizard will ask you for how you would like to pay for the transaction\nfee."}),"\n",(0,a.jsx)(t.p,{children:"Once that is completed, you will be asked what stake you would like to assign the Subnet Validator:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-text",children:" What stake weight would you like to assign to the validator?:\n  \u25b8 Default (20)\n    Custom\n"})}),"\n",(0,a.jsxs)(t.p,{children:["Note that for this part, you are not staking actual LUX in the validator. This is an arbitrary\nweight that you are assigning to the validator. You can learn more about the stake weight parameter\nin ",(0,a.jsx)(t.a,{href:"/reference/luxd/p-chain/api#platformaddsubnetvalidator",children:"addSubnetValidator"})," under the\n",(0,a.jsx)(t.code,{children:"weight"})," section."]}),"\n",(0,a.jsx)(t.p,{children:"Next, enter the start and end time for the node to validate the Subnet."}),"\n",(0,a.jsx)(t.p,{children:"Once all input is completed, you will another transaction ID indicating that the node is now\nscheduled to be a Subnet Validator."}),"\n",(0,a.jsxs)(t.p,{children:["Once the start time that you chose for the node to be a Subnet Validator has elapsed, verify that\nthe node is a Subnet validator by running ",(0,a.jsx)(t.code,{children:"lux node status <clusterName>  --subnet <subnetName>"}),"."]}),"\n",(0,a.jsx)(t.p,{children:"You should see:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-text",children:"All nodes in cluster `clusterName` are validators to Subnet `subnetName`\n"})})]})}function c(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},11151:(e,t,n)=>{n.d(t,{Z:()=>r,a:()=>s});var a=n(67294);const i={},o=a.createContext(i);function s(e){const t=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(o.Provider,{value:t},e.children)}}}]);
"use strict";(self.webpackChunk_luxdocs_network=self.webpackChunk_luxdocs_network||[]).push([[2148],{84944:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var t=r(49214),s=r(43540);const i={tags:["Build","Dapps"],description:"This tutorial walks through verifying a smart contract on the Snowtrace block explorer.",sidebar_label:"on Snowtrace",pagination_label:"Verify Smart Contracts on the C-Chain Explorer",sidebar_position:0},a="Verify Smart Contracts on the C-Chain Explorer",c={id:"build/dapp/smart-contracts/verification/verify-smart-contracts",title:"Verify Smart Contracts on the C-Chain Explorer",description:"This tutorial walks through verifying a smart contract on the Snowtrace block explorer.",source:"@site/docs/build/dapp/smart-contracts/verification/verify-smart-contracts.md",sourceDirName:"build/dapp/smart-contracts/verification",slug:"/build/dapp/smart-contracts/verification/verify-smart-contracts",permalink:"/docs/build/dapp/smart-contracts/verification/verify-smart-contracts",draft:!1,unlisted:!1,editUrl:"https://github.com/luxfi/docs/edit/main/docs/build/dapp/smart-contracts/verification/verify-smart-contracts.md",tags:[{label:"Build",permalink:"/docs/tags/build"},{label:"Dapps",permalink:"/docs/tags/dapps"}],version:"current",sidebarPosition:0,frontMatter:{tags:["Build","Dapps"],description:"This tutorial walks through verifying a smart contract on the Snowtrace block explorer.",sidebar_label:"on Snowtrace",pagination_label:"Verify Smart Contracts on the C-Chain Explorer",sidebar_position:0},sidebar:"build-dapp",previous:{title:"Preparing NFT Files for an ERC721 Smart Contract",permalink:"/docs/build/dapp/smart-contracts/nfts/preparing-nft-files"},next:{title:"Verifying Smart Contracts Using Hardhat and Snowtrace",permalink:"/docs/build/dapp/smart-contracts/verification/verify-hardhat"}},o={},l=[{value:"Steps",id:"steps",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Libraries",id:"libraries",level:2},{value:"Examples",id:"examples",level:2},{value:"Caveats",id:"caveats",level:2},{value:"SPDX License Required",id:"spdx-license-required",level:3},{value:"<code>keccak256</code> Strings Processed",id:"keccak256-strings-processed",level:3},{value:"Solidity Constructors",id:"solidity-constructors",level:3}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"verify-smart-contracts-on-the-c-chain-explorer",children:"Verify Smart Contracts on the C-Chain Explorer"}),"\n",(0,t.jsx)(n.p,{children:"The C-Chain Explorer supports verifying smart contracts, allowing users to review it."}),"\n",(0,t.jsxs)(n.p,{children:["The Mainnet C-Chain Explorer is ",(0,t.jsx)(n.a,{href:"https://snowtrace.io/",children:"here"})," and the Testnet Explorer is ",(0,t.jsx)(n.a,{href:"https://testnet.snowtrace.io/",children:"here."})]}),"\n",(0,t.jsxs)(n.p,{children:["If you have issues, contact us on ",(0,t.jsx)(n.a,{href:"https://chat.lux.network",children:"Discord"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"steps",children:"Steps"}),"\n",(0,t.jsxs)(n.p,{children:["Navigate to the ",(0,t.jsx)(n.em,{children:"Contract"})," tab at the Explorer page for your contract's address."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"verify and publish",src:r(13004).A+"",width:"2718",height:"808"})}),"\n",(0,t.jsxs)(n.p,{children:["Click ",(0,t.jsx)(n.em,{children:"Verify & Publish"})," to enter the smart contract verification page."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"SRC",src:r(74290).A+"",width:"1354",height:"907"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://docs.soliditylang.org/en/v0.8.4/contracts.html?highlight=libraries#libraries",children:"Libraries"}),"\ncan be provided. If they are, they must be deployed, independently verified and\nin the ",(0,t.jsx)(n.em,{children:"Add Contract Libraries"})," section."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"libraries",src:r(98933).A+"",width:"766",height:"158"})}),"\n",(0,t.jsxs)(n.p,{children:["The C-Chain Explorer can fetch constructor arguments automatically for simple\nsmart contracts. More complicated contracts might require you to pass in special\nconstructor arguments. Smart contracts with complicated constructors\n",(0,t.jsx)(n.a,{href:"/docs/build/dapp/smart-contracts/verification/verify-smart-contracts#caveats",children:"may have validation issues"}),".\nYou can try this ",(0,t.jsx)(n.a,{href:"https://abi.hashex.org/",children:"online ABI encoder"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"IMPORTANT"})," Contracts should be verified on Testnet before being deployed to\nMainnet to ensure there are no issues."]}),"\n",(0,t.jsxs)(n.li,{children:["Contracts must be flattened.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Includes will not work."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Contracts should be compile-able in ",(0,t.jsx)(n.a,{href:"https://remix.ethereum.org",children:"Remix"}),".","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["A flattened contract with ",(0,t.jsx)(n.code,{children:"pragma experimental ABIEncoderV2"})," (as an example)\ncan create unusual binary and/or constructor blobs. This might cause\nvalidation issues."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["The C-Chain Explorer ",(0,t.jsx)(n.strong,{children:"only"})," validates ",(0,t.jsx)(n.a,{href:"https://github.com/ethereum/solc-bin",children:"solc\nJavaScript"})," and only supports\n",(0,t.jsx)(n.a,{href:"https://docs.soliditylang.org",children:"Solidity"})," contracts."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"libraries",children:"Libraries"}),"\n",(0,t.jsx)(n.p,{children:"The compile bytecode will identify if there are external libraries. If you\nreleased with Remix, you will also see multiple transactions created."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "linkReferences": {\n    "contracts/Storage.sol": {\n      "MathUtils": [\n        {\n          "length": 20,\n          "start": 3203\n        }\n        ...\n      ]\n    }\n  },\n  "object": "....",\n  ...\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"This requires you to add external libraries in order to verify the code."}),"\n",(0,t.jsx)(n.p,{children:"A library can have dependent libraries. To verify a library, the hierarchy of\ndependencies will need to be provided to the C-Chain Explorer. Verification may\nfail if you provide more than the library plus any dependencies (that is you might\nneed to prune the Solidity code to exclude anything but the necessary classes)."}),"\n",(0,t.jsxs)(n.p,{children:["You can also see references in the byte code in the form ",(0,t.jsx)(n.code,{children:"__$75f20d36....$__"}),".\nThe keccak256 hash is generated from the library name."]}),"\n",(0,t.jsxs)(n.p,{children:["Example ",(0,t.jsx)(n.a,{href:"https://emn178.github.io/online-tools/keccak_256.html",children:"online\nconverter"}),":\n",(0,t.jsx)(n.code,{children:"contracts/Storage.sol:MathUtils"})," =>\n",(0,t.jsx)(n.code,{children:"75f20d361629befd780a5bd3159f017ee0f8283bdb6da80805f83e829337fd12"})]}),"\n",(0,t.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://testnet.snowtrace.io/address/0x12DF75Fed4DEd309477C94cE491c67460727C0E8/contracts",children:"SwapFlashLoan"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"SwapFlashLoan uses swaputils and mathutils:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://testnet.snowtrace.io/address/0x6703e4660E104Af1cD70095e2FeC337dcE034dc1/contracts",children:"SwapUtils"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"SwapUtils requires mathutils:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://testnet.snowtrace.io/address/0xbA21C84E4e593CB1c6Fe6FCba340fa7795476966/contracts",children:"MathUtils"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"caveats",children:"Caveats"}),"\n",(0,t.jsx)(n.h3,{id:"spdx-license-required",children:"SPDX License Required"}),"\n",(0,t.jsx)(n.p,{children:"An SPDX must be provided."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// SPDX-License-Identifier: ...\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"keccak256-strings-processed",children:[(0,t.jsx)(n.code,{children:"keccak256"})," Strings Processed"]}),"\n",(0,t.jsx)(n.p,{children:"The C-Chain Explorer interprets all keccak256(...) strings, even those in\ncomments. This can cause issues with constructor arguments."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'/// keccak256("1");\nkeccak256("2");\n'})}),"\n",(0,t.jsx)(n.p,{children:"This could cause automatic constructor verification failures. If you receive\nerrors about constructor arguments they can be provided in ABI hex encoded form on\nthe contract verification page."}),"\n",(0,t.jsx)(n.h3,{id:"solidity-constructors",children:"Solidity Constructors"}),"\n",(0,t.jsx)(n.p,{children:"Constructors and inherited constructors can cause problems verifying the constructor arguments."}),"\n",(0,t.jsx)(n.p,{children:"example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"abstract contract Parent {\n  constructor () {\n    address msgSender = ...;\n    emit Something(address(0), msgSender);\n  }\n}\ncontract Main is Parent {\n  constructor (\n          string memory _name,\n          address deposit,\n          uint fee\n  ) {\n    ...\n  }\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"If you receive errors about constructor arguments they can be provided in ABI hex\nencoded form on the contract verification page."})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},13004:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/verify-and-publish1-adf540f73ec22e41a826254f578f87e8.png"},98933:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/verify-libraries-421553052afd6e7b5f1df42cddde9495.png"},74290:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/verify-src-f9a7735cbf7b4a98a087e0fa2cb724d0.png"},43540:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>c});var t=r(48318);const s={},i=t.createContext(s);function a(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunk_luxdocs_network=self.webpackChunk_luxdocs_network||[]).push([[8640],{24350:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>m});var a=s(49214),r=s(43540);const i={tags:["Nodes"],description:"Running a validator and staking with Lux using Microsoft Azure infrastructure provides extremely competitive rewards. Find out more info here.",sidebar_label:"Microsoft Azure",pagination_label:"Run a Lux Node with Microsoft Azure",sidebar_position:2},t="Run a Lux Node with Microsoft Azure",o={id:"nodes/run/third-party/microsoft-azure-node",title:"Run a Lux Node with Microsoft Azure",description:"Running a validator and staking with Lux using Microsoft Azure infrastructure provides extremely competitive rewards. Find out more info here.",source:"@site/docs/nodes/run/third-party/microsoft-azure-node.md",sourceDirName:"nodes/run/third-party",slug:"/nodes/run/third-party/microsoft-azure-node",permalink:"/docs/nodes/run/third-party/microsoft-azure-node",draft:!1,unlisted:!1,editUrl:"https://github.com/luxfi/docs/edit/main/docs/nodes/run/third-party/microsoft-azure-node.md",tags:[{label:"Nodes",permalink:"/docs/tags/nodes"}],version:"current",sidebarPosition:2,frontMatter:{tags:["Nodes"],description:"Running a validator and staking with Lux using Microsoft Azure infrastructure provides extremely competitive rewards. Find out more info here.",sidebar_label:"Microsoft Azure",pagination_label:"Run a Lux Node with Microsoft Azure",sidebar_position:2},sidebar:"nodes",previous:{title:"Run a Lux Node with Amazon Web Services with one click",permalink:"/docs/nodes/run/third-party/aws-marketplace-one-click"},next:{title:"Run a Lux Node with Google Cloud Platform",permalink:"/docs/nodes/run/third-party/google-cloud-node"}},l={},m=[{value:"Initial Subscription Configuration",id:"initial-subscription-configuration",level:2},{value:"Set up 2 Factor",id:"set-up-2-factor",level:3},{value:"Create a Virtual Machine",id:"create-a-virtual-machine",level:2},{value:"Cheaper Than Amazon AWS",id:"cheaper-than-amazon-aws",level:3},{value:"Disks",id:"disks",level:3},{value:"Network Config",id:"network-config",level:3},{value:"Change the Provisioned Disk Size",id:"change-the-provisioned-disk-size",level:2},{value:"Connect to the Lux Node",id:"connect-to-the-lux-node",level:2},{value:"Find your Lux Node Public IP",id:"find-your-lux-node-public-ip",level:3},{value:"Update Linux with Security Patches",id:"update-linux-with-security-patches",level:3},{value:"Set up the Lux Node",id:"set-up-the-lux-node",level:3},{value:"Get Your NodeID",id:"get-your-nodeid",level:3},{value:"Backup Your Staking Keys",id:"backup-your-staking-keys",level:3}];function h(e){const n={a:"a",admonition:"admonition",annotation:"annotation",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",mtext:"mtext",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"run-a-lux-node-with-microsoft-azure",children:"Run a Lux Node with Microsoft Azure"}),"\n",(0,a.jsx)(n.admonition,{type:"caution",children:(0,a.jsx)(n.p,{children:"This document was written by a community member, some information may be out of date."})}),"\n",(0,a.jsxs)(n.p,{children:["Running a validator and staking with Lux provides extremely competitive\nrewards of between 9.69% and 11.54% depending on the length you stake for. The\nmaximum rate is earned by staking for a year, whilst the lowest rate for 14\ndays. There is also no slashing, so you don\u2019t need to worry about a hardware\nfailure or bug in the client which causes you to lose part or all of your stake.\nInstead with Lux you only need to currently maintain at least 80% uptime\nto receive rewards. If you fail to meet this requirement you don\u2019t get slashed,\nbut you don\u2019t receive the rewards. ",(0,a.jsx)(n.strong,{children:"You also do not need to put your private\nkeys onto a node to begin validating on that node."})," Even if someone breaks into\nyour cloud environment and gains access to the node, the worst they can do is\nturn off the node."]}),"\n",(0,a.jsx)(n.p,{children:"Not only does running a validator node enable you to receive rewards in LUX,\nbut later you will also be able to validate other Subnets in the ecosystem as\nwell and receive rewards in the token native to their Subnets."}),"\n",(0,a.jsxs)(n.p,{children:["Hardware requirements to run a validator are relatively modest: 8 CPU cores, 16\nGB of RAM and 1 TB SSD. It also doesn't use enormous amounts of energy.\nLux\u2019s ",(0,a.jsx)(n.a,{href:"https://medium.com/ava-hub/consensus-the-biggest-breakthrough-since-nakamoto-66e9917fd656",children:"revolutionary consensus\nmechanism"}),"\nis able to scale to millions of validators participating in consensus at once,\noffering unparalleled decentralisation."]}),"\n",(0,a.jsxs)(n.p,{children:["Currently the minimum amount required to stake to become a validator is 2,000\nLUX. Alternatively,\nvalidators can also charge a small fee to enable users to delegate their stake\nwith them to help towards running costs. You can use a calculator\n",(0,a.jsx)(n.a,{href:"https://vscout.io/",children:"here"})," to see how much rewards you would earn when running a\nnode, compared to delegating."]}),"\n",(0,a.jsx)(n.p,{children:"In this article we will step through the process of configuring a node on\nMicrosoft Azure. This tutorial assumes no prior experience with Microsoft Azure\nand will go through each step with as few assumptions possible."}),"\n",(0,a.jsxs)(n.p,{children:["At the time of this article, spot pricing for a virtual machine with 2 Cores and\n8 GB memory costs as little as ",(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mn,{children:"0.01060"}),(0,a.jsx)(n.mi,{children:"p"}),(0,a.jsx)(n.mi,{children:"e"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"h"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"u"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"w"}),(0,a.jsx)(n.mi,{children:"h"}),(0,a.jsx)(n.mi,{children:"i"}),(0,a.jsx)(n.mi,{children:"c"}),(0,a.jsx)(n.mi,{children:"h"}),(0,a.jsx)(n.mi,{children:"w"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"k"}),(0,a.jsx)(n.mi,{children:"s"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"u"}),(0,a.jsx)(n.mi,{children:"t"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"t"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"b"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"u"}),(0,a.jsx)(n.mi,{children:"t"})]}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"0.01060 per hour which works out at about\n"})]})})}),(0,a.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,a.jsx)(n.span,{className:"mord",children:"0.01060"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"p"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"er"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"h"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"o"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"u"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"r"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"},children:"w"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"hi"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"c"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"h"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"},children:"w"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"or"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"},children:"k"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"so"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"u"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"t"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"a"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"t"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"ab"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"o"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"u"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"t"})]})})]}),"113.44 a year, ",(0,a.jsx)(n.strong,{children:"a saving of 83.76%! compared to normal pay as you go prices."}),"\nIn comparison a virtual machine in AWS with 2 Cores and 4 GB Memory with spot\npricing is around $462 a year."]}),"\n",(0,a.jsx)(n.h2,{id:"initial-subscription-configuration",children:"Initial Subscription Configuration"}),"\n",(0,a.jsx)(n.h3,{id:"set-up-2-factor",children:"Set up 2 Factor"}),"\n",(0,a.jsx)(n.p,{children:'First you will need a Microsoft Account, if you don\u2019t have one already you will\nsee an option to create one at the following link. If you already have one, make\nsure to set up 2 Factor authentication to secure your node by going to the\nfollowing link and then selecting "Two-step verification" and following the\nsteps provided.'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://account.microsoft.com/security",children:"https://account.microsoft.com/security"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/1135/1*tr3rEcrvI4rEpC7KPYqg6g.png",alt:"Image for post"})}),"\n",(0,a.jsxs)(n.p,{children:["Once two factor has been configured log into the Azure portal by going to\n",(0,a.jsx)(n.a,{href:"https://portal.azure.com/",children:"https://portal.azure.com"}),' and signing in with your\nMicrosoft account. When you login you won\u2019t have a subscription, so we need to\ncreate one first. Select "Subscriptions" as highlighted below:']}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/648/1*5Jp8oXzczaEND-z9_QZaQA.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:'Then select "+ Add" to add a new subscription'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/374/1*Lw3HklSSC8NDN2ftQEVgYA.png",alt:"Image for post"})}),"\n",(0,a.jsxs)(n.p,{children:["If you want to use Spot Instance VM Pricing (which will be considerably cheaper)\nyou can\u2019t use a Free Trial account (and you will receive an error upon\nvalidation), so ",(0,a.jsx)(n.strong,{children:"make sure to select Pay-As-You-Go."})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/789/1*TO5Uh07OkH_QdwludEgapg.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:"Enter your billing details and confirm identity as part of the sign-up process,\nwhen you get to Add technical support select the without support option (unless\nyou want to pay extra for support) and press Next."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/783/1*5KJOATvu3giAr6ygO3rF6Q.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.h2,{id:"create-a-virtual-machine",children:"Create a Virtual Machine"}),"\n",(0,a.jsx)(n.p,{children:'Now that we have a subscription, we can create the Ubuntu Virtual Machine for\nour Lux Node. Select the Icon in the top left for the Menu and choose "+\nCreate a resource"'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/565/1*3nSPwgEM3oIgrIlIo-TS1w.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:"Select Ubuntu Server 18.04 LTS (this will normally be under the popular section\nor alternatively search for it in the marketplace)"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/605/1*Y0iZEZExC36c7FXqPlrPuw.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:"This will take you to the Create a virtual machine page as shown below:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/775/1*cv0z0mt6Uavx5MkiazpiUA.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:"First, enter a virtual machine a name, this can be anything but in my example, I\nhave called it Lux (This will also automatically change the resource group\nname to match)"}),"\n",(0,a.jsx)(n.p,{children:"Then select a region from the drop-down list. Select one of the recommended ones\nin a region that you prefer as these tend to be the larger ones with most\nfeatures enabled and cheaper prices. In this example I have selected North\nEurope."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/769/1*XOpa22qSdNI-0PW5oIyUhQ.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:"You have the option of using spot pricing to save significant amounts on running\ncosts. Spot instances use a supply and demand market price structure. As demand\nfor instances goes up, the price for the spot instance goes up. If there is\ninsufficient capacity, then your VM will be turned off. The chances of this\nhappening are incredibly low though, especially if you select the Capacity only\noption. Even in the unlikely event it does get turned off temporarily you only\nneed to maintain at least 80% up time to receive the staking rewards and there\nis no slashing implemented in Lux."}),"\n",(0,a.jsxs)(n.p,{children:["Select Yes for Azure Spot instance, select Eviction type to Capacity Only and\n",(0,a.jsx)(n.strong,{children:"make sure to set the eviction policy to Stop / Deallocate. This is very\nimportant otherwise the VM will be deleted"})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/756/1*zWWiYhloPdnKEXGhZJA3dQ.png",alt:"Image for post"})}),"\n",(0,a.jsxs)(n.p,{children:['Choose "Select size" to change the Virtual Machine size, and from the menu\nselect D2s_v4 under the D-Series v4 selection (This size has 2 Cores, 8 GB\nMemory and enables Premium SSDs). You can use F2s_v2 instances instead, with are\n2 Cores, 4 GB Memory and enables Premium SSDs) but the spot price actually works\nout cheaper for the larger VM currently with spot instance prices. You can use\n',(0,a.jsx)(n.a,{href:"https://azure.microsoft.com/en-us/pricing/details/virtual-machines/linux/",children:"this\nlink"}),"\nto view the prices across the different regions."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/957/1*JzebwGho6qDFbzlqCJSN9w.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:'Once you have selected the size of the Virtual Machine, select "View pricing\nhistory and compare prices in nearby regions" to see how the spot price has\nchanged over the last 3 months, and whether it\u2019s cheaper to use a nearby region\nwhich may have more spare capacity.'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/763/1*UQYmhtL8JMhrOkaWk8cloA.png",alt:"Image for post"})}),"\n",(0,a.jsxs)(n.p,{children:["At the time of this article, spot pricing for D2s_v4 in North Europe costs\n",(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mn,{children:"0.07975"}),(0,a.jsx)(n.mi,{children:"p"}),(0,a.jsx)(n.mi,{children:"e"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"h"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"u"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mo,{separator:"true",children:","}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"u"}),(0,a.jsx)(n.mi,{children:"n"}),(0,a.jsx)(n.mi,{children:"d"})]}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"0.07975 per hour, or around "})]})})}),(0,a.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,a.jsx)(n.span,{className:"mord",children:"0.07975"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"p"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"er"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"h"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"o"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"u"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"r"}),(0,a.jsx)(n.span,{className:"mpunct",children:","}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"or"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"a"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"ro"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"u"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"d"})]})})]}),"698.61 a year. With spot pricing, the price falls\nto ",(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mn,{children:"0.01295"}),(0,a.jsx)(n.mi,{children:"p"}),(0,a.jsx)(n.mi,{children:"e"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"h"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"u"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mo,{separator:"true",children:","}),(0,a.jsx)(n.mi,{children:"w"}),(0,a.jsx)(n.mi,{children:"h"}),(0,a.jsx)(n.mi,{children:"i"}),(0,a.jsx)(n.mi,{children:"c"}),(0,a.jsx)(n.mi,{children:"h"}),(0,a.jsx)(n.mi,{children:"w"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"k"}),(0,a.jsx)(n.mi,{children:"s"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"u"}),(0,a.jsx)(n.mi,{children:"t"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"t"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"b"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"u"}),(0,a.jsx)(n.mi,{children:"t"})]}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"0.01295 per hour, which works out at about "})]})})}),(0,a.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,a.jsx)(n.span,{className:"mord",children:"0.01295"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"p"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"er"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"h"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"o"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"u"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"r"}),(0,a.jsx)(n.span,{className:"mpunct",children:","}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"},children:"w"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"hi"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"c"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"h"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"},children:"w"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"or"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"},children:"k"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"so"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"u"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"t"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"a"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"t"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"ab"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"o"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"u"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"t"})]})})]}),"113.44 a year, ",(0,a.jsx)(n.strong,{children:"a saving of\n83.76%!"})]}),"\n",(0,a.jsxs)(n.p,{children:["There are some regions which are even cheaper, East US for example is ",(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mn,{children:"0.01060"}),(0,a.jsx)(n.mi,{children:"p"}),(0,a.jsx)(n.mi,{children:"e"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"h"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"u"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"u"}),(0,a.jsx)(n.mi,{children:"n"}),(0,a.jsx)(n.mi,{children:"d"})]}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"0.01060\nper hour or around "})]})})}),(0,a.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,a.jsx)(n.span,{className:"mord",children:"0.01060"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"p"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"er"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"h"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"o"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"u"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"ror"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"a"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"ro"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"u"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"d"})]})})]}),"92.86 a year!"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/677/1*Th5aDwLS6_IoM0LidRbH6g.png",alt:"Image for post"})}),"\n",(0,a.jsxs)(n.p,{children:["Below you can see the price history of the VM over the last 3 months for North\nEurope and regions nearby.",(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/30/1*OJ4monpMy8DhWw_HWycMjg.png?q=20",alt:"Image for\npost"})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/968/1*OJ4monpMy8DhWw_HWycMjg.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.h3,{id:"cheaper-than-amazon-aws",children:"Cheaper Than Amazon AWS"}),"\n",(0,a.jsxs)(n.p,{children:["As a comparison a c5.large instance costs ",(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mn,{children:"0.085"}),(0,a.jsx)(n.mi,{children:"U"}),(0,a.jsx)(n.mi,{children:"S"}),(0,a.jsx)(n.mi,{children:"D"}),(0,a.jsx)(n.mi,{children:"p"}),(0,a.jsx)(n.mi,{children:"e"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"h"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"u"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"n"}),(0,a.jsx)(n.mi,{children:"A"}),(0,a.jsx)(n.mi,{children:"W"}),(0,a.jsx)(n.mi,{children:"S"}),(0,a.jsx)(n.mi,{mathvariant:"normal",children:"."}),(0,a.jsx)(n.mi,{children:"T"}),(0,a.jsx)(n.mi,{children:"h"}),(0,a.jsx)(n.mi,{children:"i"}),(0,a.jsx)(n.mi,{children:"s"}),(0,a.jsx)(n.mi,{children:"t"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"t"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"l"}),(0,a.jsx)(n.mi,{children:"s"}),(0,a.jsx)(n.mtext,{children:"\xa0"})]}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"0.085 USD per hour on AWS. This\ntotals ~"})]})})}),(0,a.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,a.jsx)(n.span,{className:"mord",children:"0.085"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"U"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"D"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"p"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"er"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"h"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"o"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"u"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"ro"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"A"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"},children:"W"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"}),(0,a.jsx)(n.span,{className:"mord",children:"."}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"},children:"T"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"hi"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"s"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"t"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"o"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"t"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"a"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"s"}),(0,a.jsx)(n.span,{className:"mspace nobreak",children:"\xa0"})]})})]}),"745 USD per year. Spot instances can save 62%, bringing that total down\nto $462."]}),"\n",(0,a.jsx)(n.p,{children:"The next step is to change the username for the VM, to align with other\nLux tutorials change the username to Ubuntu. Otherwise you will need to\nchange several commands later in this article and swap out Ubuntu with your new\nusername."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/780/1*CNmFTz056EUmahfi5zG3JQ.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.h3,{id:"disks",children:"Disks"}),"\n",(0,a.jsxs)(n.p,{children:["Select Next: Disks to then configure the disks for the instance. There are 2\nchoices for disks, either Premium SSD which offer greater performance with a 64\nGB disk costs around ",(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mn,{children:"10"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"m"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"n"}),(0,a.jsx)(n.mi,{children:"t"}),(0,a.jsx)(n.mi,{children:"h"}),(0,a.jsx)(n.mo,{separator:"true",children:","}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"t"}),(0,a.jsx)(n.mi,{children:"h"}),(0,a.jsx)(n.mi,{children:"e"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"e"}),(0,a.jsx)(n.mi,{children:"i"}),(0,a.jsx)(n.mi,{children:"s"}),(0,a.jsx)(n.mi,{children:"t"}),(0,a.jsx)(n.mi,{children:"h"}),(0,a.jsx)(n.mi,{children:"e"}),(0,a.jsx)(n.mi,{children:"s"}),(0,a.jsx)(n.mi,{children:"t"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"n"}),(0,a.jsx)(n.mi,{children:"d"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"d"}),(0,a.jsx)(n.mi,{children:"S"}),(0,a.jsx)(n.mi,{children:"S"}),(0,a.jsx)(n.mi,{children:"D"}),(0,a.jsx)(n.mi,{children:"w"}),(0,a.jsx)(n.mi,{children:"h"}),(0,a.jsx)(n.mi,{children:"i"}),(0,a.jsx)(n.mi,{children:"c"}),(0,a.jsx)(n.mi,{children:"h"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"f"}),(0,a.jsx)(n.mi,{children:"f"}),(0,a.jsx)(n.mi,{children:"e"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"s"}),(0,a.jsx)(n.mi,{children:"l"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"w"}),(0,a.jsx)(n.mi,{children:"e"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"p"}),(0,a.jsx)(n.mi,{children:"e"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"f"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"m"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"n"}),(0,a.jsx)(n.mi,{children:"c"}),(0,a.jsx)(n.mi,{children:"e"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"n"}),(0,a.jsx)(n.mi,{children:"d"}),(0,a.jsx)(n.mi,{children:"i"}),(0,a.jsx)(n.mi,{children:"s"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"u"}),(0,a.jsx)(n.mi,{children:"n"}),(0,a.jsx)(n.mi,{children:"d"})]}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"10 a month, or there is the standard SSD which offers\nlower performance and is around "})]})})}),(0,a.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,a.jsx)(n.span,{className:"mord",children:"10"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"am"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"o"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"t"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"h"}),(0,a.jsx)(n.span,{className:"mpunct",children:","}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"or"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"t"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"h"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"ere"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"i"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"s"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"t"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"h"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"es"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"t"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"an"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"d"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"a"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"r"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"d"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"SS"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"D"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"},children:"w"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"hi"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"c"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"h"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"o"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"ff"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"ers"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"o"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"},children:"w"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"er"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"p"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"er"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"f"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"or"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"man"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"ce"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"an"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"d"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"i"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"s"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"a"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"ro"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"u"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"n"}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"d"})]})})]}),"5 a month. You also have to pay $0.002 per\n10,000 transaction units (reads / writes and deletes) with the Standard SSD,\nwhereas with Premium SSDs everything is included. Personally, I chose the\nPremium SSD for greater performance, but also because the disks are likely to be\nheavily used and so may even work out cheaper in the long run."]}),"\n",(0,a.jsx)(n.p,{children:"Select Next: Networking to move onto the network configuration"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/763/1*Oqv9nA8KoSIyq95DuPDN4g.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.h3,{id:"network-config",children:"Network Config"}),"\n",(0,a.jsx)(n.p,{children:'You want to use a Static IP so that the public IP assigned to the node doesn\u2019t\nchange in the event it stops. Under Public IP select "Create new"'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/774/1*2wsz1_OG7DpLA7jmTJfm0A.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:'Then select "Static" as the Assignment type'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/347/1*y-JbYlRNN3GNNXtZDP-UXQ.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:'Then we need to configure the network security group to control access inbound\nto the Lux node. Select "Advanced" as the NIC network security group type\nand select "Create new"'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/763/1*e5Y-mHGkn42A-mJx6o3J0g.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:'For security purposes you want to restrict who is able to remotely connect to\nyour node. To do this you will first want to find out what your existing public\nIP is. This can be done by going to google and searching for "what\u2019s my IP"'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/450/1*-aV-AdrABCUmludxXUPV6Q.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:"It\u2019s likely that you have been assigned a dynamic public IP for your home,\nunless you have specifically requested it, and so your assigned public IP may\nchange in the future. It\u2019s still recommended to restrict access to your current\nIP though, and then in the event your home IP changes and you are no longer able\nto remotely connect to the VM, you can just update the network security rules\nwith your new public IP so you are able to connect again."}),"\n",(0,a.jsxs)(n.p,{children:['NOTE: If you need to change the network security group rules after deployment if\nyour home IP has changed, search for "nsg" and you can modify the rule\nfor SSH and Port 9650 with the new IP. ',(0,a.jsx)(n.strong,{children:"Port 9651 needs to remain open to\neveryone"})," though as that\u2019s how it communicates with other Lux nodes."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/481/1*fR6SrKhTSTQ4cS3PoFrQfQ.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:'Now that you have your public IP select the default allow ssh rule on the left\nunder inbound rules to modify it. Change Source from "Any" to "IP Addresses" and\nthen enter in your Public IP address that you found from google in the Source IP\naddress field. Change the Priority towards the bottom to 100 and then press\nSave.'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/1039/1*iLP9gUH4weTfsPcmeUbXLw.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:'Then select "+ Add an inbound rule" to add another rule for RPC access, this\nshould also be restricted to only your IP. Change Source to "IP Addresses" and\nenter in your public IP returned from google into the Source IP field. This time\nchange the "Destination port ranges" field to 9650 and select "TCP" as the\nprotocol. Change the priority to 110 and give it a name of "Lux_RPC" and\npress Add.'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/914/1*Zg9mHCkU7G5BoinN0EWZAg.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:'Select "+ Add an inbound rule" to add a final rule for the Lux Protocol so\nthat other nodes can communicate with your node. This rule needs to be open to\neveryone so keep "Source" set to "Any." Change the Destination port range to\n"9651" and change the protocol to "TCP." Enter a priority of 120 and a name of\nLux_Protocol and press Add.'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/662/1*tIMEp7O83NIUitWwlcHAxw.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:"The network security group should look like the below (albeit your public IP\naddress will be different) and press OK."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/363/1*7rAR3C_UrX94iXxL4sdV9g.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:'Leave the other settings as default and then press "Review + create" to create the Virtual machine.'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/828/1*01yGser7qYjiXDngemqClQ.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:'First it will perform a validation test. If you receive an error here, make sure\nyou selected Pay-As-You-Go subscription model and you are not using the Free\nTrial subscription as Spot instances are not available. Verify everything looks\ncorrect and press "Create"'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/751/1*HyQP7HJCiVQPPiWodRj6aQ.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:'You should then receive a prompt asking you to generate a new key pair to\nconnect your virtual machine. Select "Download private key and create resource"\nto download the private key to your PC.'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/456/1*FCAVco29fcianH4TjxVGzQ.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:'Once your deployment has finished, select "Go to resource"'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/608/1*dXl1RkH6xZvHkdI1d-XsOQ.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.h2,{id:"change-the-provisioned-disk-size",children:"Change the Provisioned Disk Size"}),"\n",(0,a.jsx)(n.p,{children:"By default, the Ubuntu VM will be provisioned with a 30 GB Premium SSD. You\nshould increase this to 250 GB, to allow for database growth."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/880/1*2uJoRLC586qLEhr1RNNeTg.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:'To change the Disk size, the VM needs to be stopped and deallocated. Select\n"Stop" and wait for the status to show deallocated. Then select "Disks" on the\nleft.'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/976/1*eUCBMgyQtEukvCyi3pm48g.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:"Select the Disk name that\u2019s current provisioned to modify it"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/696/1*faady6O9ZyS2AvKotRFFWA.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:'Select "Size + performance" on the left under settings and change the size to 250 GB and press "Resize"'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/850/1*zZhh27myfdBcEhf3QMhs3A.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:"Doing this now will also extend the partition automatically within Ubuntu. To go\nback to the virtual machine overview page, select Lux in the navigation\nsetting."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/946/1*RGlKMhmlZ1__6u3RjFSDMA.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:"Then start the VM"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/929/1*vgVR-3sRejyBcXrMn65v5g.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.h2,{id:"connect-to-the-lux-node",children:"Connect to the Lux Node"}),"\n",(0,a.jsxs)(n.p,{children:["The following instructions show how to connect to the Virtual Machine from a\nWindows 10 machine. For instructions on how to connect from a Ubuntu machine see\nthe ",(0,a.jsx)(n.a,{href:"/docs/nodes/run/third-party/aws-node",children:"AWS tutorial"}),"."]}),"\n",(0,a.jsx)(n.p,{children:'On your local PC, create a folder on the root of the C: drive called Lux\nand then move the Lux_key.pem file you downloaded before into the folder.\nThen right click the file and select Properties. Go to the security tab and\nselect "Advanced" at the bottom'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/719/1*KlzhuVcn5Vt0imxDPblBtA.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:'Select "Disable inheritance" and then "Remove all inherited permissions from\nthis object" to remove all existing permissions on that file.'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/740/1*VxuomVeWbhYquRynA8hP4Q.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:'Then select "Add" to add a new permission and choose "Select a principal" at the\ntop. From the pop-up box enter in your user account that you use to log into\nyour machine. In this example I log on with a local user called Seq, you may\nhave a Microsoft account that you use to log in, so use whatever account you\nlogin to your PC with and press "Check Names" and it should underline it to\nverify and press OK.'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/758/1*sMxk7zaRHVTqA0UyHTKwzQ.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:'Then from the permissions section make sure only "Read & Execute" and "Read" are selected and press OK.'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/903/1*5Fkh3FJQuNeWQyEd0irjtA.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:"It should look something like the below, except with a different PC name / user\naccount. This just means the key file can\u2019t be modified or accessed by any other\naccounts on this machine for security purposes so they can\u2019t access your\nLux Node."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/736/1*F-YK0xdB92cIweCQFGGRvA.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.h3,{id:"find-your-lux-node-public-ip",children:"Find your Lux Node Public IP"}),"\n",(0,a.jsx)(n.p,{children:"From the Azure Portal make a note of your static public IP address that has been assigned to your node."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/1082/1*5cf1dAAO0G7Dzu2s0Xxh-Q.png",alt:"Image for post"})}),"\n",(0,a.jsxs)(n.p,{children:["To log onto the Lux node, open command prompt by searching for ",(0,a.jsx)(n.code,{children:"cmd"}),' and\nselecting "Command Prompt" on your Windows 10 machine.']}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/384/1*NlYlg9of5O9fQtiroqMFZw.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:"Then use the following command and replace the EnterYourAzureIPHere with the\nstatic IP address shown on the Azure portal."}),"\n",(0,a.jsx)(n.p,{children:"ssh -i C:\\Lux\\Lux_key.pem ubuntu@EnterYourAzureIPHere"}),"\n",(0,a.jsx)(n.p,{children:"for my example its:"}),"\n",(0,a.jsx)(n.p,{children:"ssh -i C:\\Lux\\Lux_key.pem ubuntu@13.74.10.81"}),"\n",(0,a.jsx)(n.p,{children:"The first time you connect you will receive a prompt asking to continue, enter yes."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/651/1*Hp1AF-03TbO-eRUvuKvZcA.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:"You should now be connected to your Node."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/967/1*Kc3rna-3SQV3tnMMLkMi6A.png",alt:"Image for post"})}),"\n",(0,a.jsxs)(n.p,{children:["The following section is taken from Colin\u2019s excellent tutorial for ",(0,a.jsx)(n.a,{href:"/docs/nodes/run/third-party/aws-node",children:"configuring a Lux Node on Amazon\u2019s AWS"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"update-linux-with-security-patches",children:"Update Linux with Security Patches"}),"\n",(0,a.jsx)(n.p,{children:"Now that we are on our node, it\u2019s a good idea to update it to the latest\npackages. To do this, run the following commands, one-at-a-time, in order:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:"sudo apt update\nsudo apt upgrade -y\nsudo reboot\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/793/1*_2UmPN6vabjGe6aihX9KqA.png",alt:"Image for post"})}),"\n",(0,a.jsx)(n.p,{children:"This will make our instance up to date with the latest security patches for our\noperating system. This will also reboot the node. We\u2019ll give the node a minute\nor two to boot back up, then log in again, same as before."}),"\n",(0,a.jsx)(n.h3,{id:"set-up-the-lux-node",children:"Set up the Lux Node"}),"\n",(0,a.jsxs)(n.p,{children:["Now we\u2019ll need to set up our Lux node. To do this, follow the ",(0,a.jsx)(n.a,{href:"/docs/nodes/run/with-installer/installing-luxd",children:"Set Up Lux Node With Installer"}),' tutorial\nwhich automates the installation process. You will need the "IPv4 Public IP"\ncopied from the Azure Portal we set up earlier.']}),"\n",(0,a.jsx)(n.p,{children:"Once the installation is complete, our node should now be bootstrapping! We can\nrun the following command to take a peek at the latest status of the Luxd\nnode:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:"sudo systemctl status luxd\n"})}),"\n",(0,a.jsxs)(n.p,{children:["To check the status of the bootstrap, we\u2019ll need to make a request to the local\nRPC using ",(0,a.jsx)(n.code,{children:"curl"}),". This request is as follows:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'curl -X POST --data \'{\n    "jsonrpc":"2.0",\n    "id"     :1,\n    "method" :"info.isBootstrapped",\n    "params": {\n        "chain":"X"\n    }\n}\' -H \'content-type:application/json;\' 127.0.0.1:9650/ext/info\n'})}),"\n",(0,a.jsx)(n.p,{children:"The node can take some time (upward of an hour at this moment writing) to\nbootstrap. Bootstrapping means that the node downloads and verifies the history\nof the chains. Give this some time. Once the node is finished bootstrapping, the\nresponse will be:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'{\n    "jsonrpc": "2.0",\n    "result": {\n        "isBootstrapped": true\n    },\n    "id": 1\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["We can always use ",(0,a.jsx)(n.code,{children:"sudo systemctl status luxd"})," to peek at the latest\nstatus of our service as before, as well."]}),"\n",(0,a.jsx)(n.h3,{id:"get-your-nodeid",children:"Get Your NodeID"}),"\n",(0,a.jsx)(n.p,{children:"We absolutely must get our NodeID if we plan to do any validating on this node.\nThis is retrieved from the RPC as well. We call the following curl command to\nget our NodeID."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'curl -X POST --data \'{\n    "jsonrpc":"2.0",\n    "id"     :1,\n    "method" :"info.getNodeID"\n}\' -H \'content-type:application/json;\' 127.0.0.1:9650/ext/info\n'})}),"\n",(0,a.jsx)(n.p,{children:"If all is well, the response should look something like:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'{"jsonrpc":"2.0","result":{"nodeID":"NodeID-Lve2PzuCvXZrqn8Stqwy9vWZux6VyGUCR"},"id":1}\n'})}),"\n",(0,a.jsx)(n.p,{children:'That portion that says, "NodeID-Lve2PzuCvXZrqn8Stqwy9vWZux6VyGUCR" is our\nNodeID, the entire thing. Copy that and keep that in our notes. There\u2019s nothing\nconfidential or secure about this value, but it\u2019s an absolute must for when we\nsubmit this node to be a validator.'}),"\n",(0,a.jsx)(n.h3,{id:"backup-your-staking-keys",children:"Backup Your Staking Keys"}),"\n",(0,a.jsx)(n.p,{children:"The last thing that should be done is backing up our staking keys in the\nuntimely event that our instance is corrupted or terminated. It\u2019s just good\npractice for us to keep these keys. To back them up, we use the following\ncommand:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:"scp -i C:\\Lux\\lux_key.pem -r ubuntu@EnterYourAzureIPHere:/home/ubuntu/.luxd/staking C:\\Lux\n"})}),"\n",(0,a.jsx)(n.p,{children:'As before, we\u2019ll need to replace "EnterYourAzureIPHere" with the appropriate\nvalue that we retrieved. This backs up our staking key and staking certificate\ninto the C:\\Lux folder we created before.'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://miro.medium.com/max/358/1*nqsjJAv2fkcLKPri5idN-Q.png",alt:"Image for post"})})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},43540:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var a=s(48318);const r={},i=a.createContext(r);function t(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);
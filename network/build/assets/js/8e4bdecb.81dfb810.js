"use strict";(self.webpackChunk_luxdocs_network=self.webpackChunk_luxdocs_network||[]).push([[7566],{78301:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>r,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>o});var i=d(49214),c=d(43540);const s={tags:["Luxd APIs"],description:"This page is an overview of the Index API associated with Luxd.",sidebar_label:"Index API",pagination_label:"Index API"},t="Index API",a={id:"reference/luxd/index-api",title:"Index API",description:"This page is an overview of the Index API associated with Luxd.",source:"@site/docs/reference/luxd/index-api.md",sourceDirName:"reference/luxd",slug:"/reference/luxd/index-api",permalink:"/docs/reference/luxd/index-api",draft:!1,unlisted:!1,editUrl:"https://github.com/luxfi/docs/edit/main/docs/reference/luxd/index-api.md",tags:[{label:"Luxd APIs",permalink:"/docs/tags/luxd-ap-is"}],version:"current",frontMatter:{tags:["Luxd APIs"],description:"This page is an overview of the Index API associated with Luxd.",sidebar_label:"Index API",pagination_label:"Index API"},sidebar:"reference",previous:{title:"Health API",permalink:"/docs/reference/luxd/health-api"},next:{title:"Info API",permalink:"/docs/reference/luxd/info-api"}},r={},o=[{value:"Go Client",id:"go-client",level:2},{value:"Format",id:"format",level:2},{value:"Endpoints",id:"endpoints",level:2},{value:"C-Chain Blocks",id:"c-chain-blocks",level:3},{value:"P-Chain Blocks",id:"p-chain-blocks",level:3},{value:"X-Chain Transactions",id:"x-chain-transactions",level:3},{value:"X-Chain Blocks",id:"x-chain-blocks",level:3},{value:"Methods",id:"methods",level:2},{value:"<code>index.getContainerByID</code>",id:"indexgetcontainerbyid",level:3},{value:"<code>index.getContainerByIndex</code>",id:"indexgetcontainerbyindex",level:3},{value:"<code>index.getContainerRange</code>",id:"indexgetcontainerrange",level:3},{value:"<code>index.getIndex</code>",id:"indexgetindex",level:3},{value:"<code>index.getLastAccepted</code>",id:"indexgetlastaccepted",level:3},{value:"<code>index.isAccepted</code>",id:"indexisaccepted",level:3},{value:"Example: Iterating Through X-Chain Transaction",id:"example-iterating-through-x-chain-transaction",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"index-api",children:"Index API"}),"\n",(0,i.jsxs)(n.p,{children:["Luxd can be configured to run with an indexer. That is, it saves (indexes) every container (a\nblock, vertex or transaction) it accepts on the X-Chain, P-Chain and C-Chain. To run Luxd\nwith indexing enabled, set command line flag\n",(0,i.jsx)(n.a,{href:"/docs/nodes/configure/luxd-config-flags#apis",children:"--index-enabled"})," to true. ",(0,i.jsxs)(n.strong,{children:["Luxd\nwill only index containers that are accepted when running with ",(0,i.jsx)(n.code,{children:"--index-enabled"})," set to true."]})," To\nensure your node has a complete index, run a node with a fresh database and ",(0,i.jsx)(n.code,{children:"--index-enabled"})," set to\ntrue. The node will accept every block, vertex and transaction in the network history during\nbootstrapping, ensuring your index is complete. It is OK to turn off your node if it is running with\nindexing enabled. If it restarts with indexing still enabled, it will accept all containers that\nwere accepted while it was offline. The indexer should never fail to index an accepted block, vertex\nor transaction."]}),"\n",(0,i.jsx)(n.p,{children:"Indexed containers (that is, accepted blocks, vertices and transactions) are timestamped with the\ntime at which the node accepted that container. Note that if the container was indexed during\nbootstrapping, other nodes may have accepted the container much earlier. Every container indexed\nduring bootstrapping will be timestamped with the time at which the node bootstrapped, not when it\nwas first accepted by the network."}),"\n",(0,i.jsxs)(n.p,{children:["If ",(0,i.jsx)(n.code,{children:"--index-enabled"})," is changed to ",(0,i.jsx)(n.code,{children:"false"})," from ",(0,i.jsx)(n.code,{children:"true"}),", Luxd won't start as doing so would\ncause a previously complete index to become incomplete, unless the user explicitly says to do so\nwith ",(0,i.jsx)(n.code,{children:"--index-allow-incomplete"}),". This protects you from accidentally running with indexing disabled,\nafter previously running with it enabled, which would result in an incomplete index."]}),"\n",(0,i.jsxs)(n.p,{children:["This document shows how to query data from Luxd's Index API. The Index API is only available\nwhen running with ",(0,i.jsx)(n.code,{children:"--index-enabled"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"go-client",children:"Go Client"}),"\n",(0,i.jsxs)(n.p,{children:["There is a Go implementation of an Index API client. See documentation\n",(0,i.jsx)(n.a,{href:"https://pkg.go.dev/github.com/luxfi/luxd/indexer#Client",children:"here"}),". This client can be used\ninside a Go program to connect to a Luxd node that is running with the Index API enabled and\nmake calls to the Index API."]}),"\n",(0,i.jsx)(n.h2,{id:"format",children:"Format"}),"\n",(0,i.jsxs)(n.p,{children:["This API uses the ",(0,i.jsx)(n.code,{children:"json 2.0"})," RPC format. For more information on making JSON RPC calls, see\n",(0,i.jsx)(n.a,{href:"/docs/reference/standards/guides/issuing-api-calls",children:"here"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,i.jsx)(n.p,{children:"Each chain has one or more index. To see if a C-Chain block is accepted, for example, send an API\ncall to the C-Chain block index. To see if an X-Chain vertex is accepted, for example, send an API\ncall to the X-Chain vertex index."}),"\n",(0,i.jsx)(n.h3,{id:"c-chain-blocks",children:"C-Chain Blocks"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"/ext/index/C/block\n"})}),"\n",(0,i.jsx)(n.h3,{id:"p-chain-blocks",children:"P-Chain Blocks"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"/ext/index/P/block\n"})}),"\n",(0,i.jsx)(n.h3,{id:"x-chain-transactions",children:"X-Chain Transactions"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"/ext/index/X/tx\n"})}),"\n",(0,i.jsx)(n.h3,{id:"x-chain-blocks",children:"X-Chain Blocks"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"/ext/index/X/block\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.p,{children:["To ensure historical data can be accessed, the ",(0,i.jsx)(n.code,{children:"/ext/index/X/vtx"})," is still accessible,\neven though it is no longer populated with chain data since the Cortina activation.\nIf you are using ",(0,i.jsx)(n.code,{children:"V1.10.0"})," or higher, you need to migrate to using the ",(0,i.jsx)(n.code,{children:"/ext/index/X/block"})," endpoint."]})}),"\n",(0,i.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,i.jsx)(n.h3,{id:"indexgetcontainerbyid",children:(0,i.jsx)(n.code,{children:"index.getContainerByID"})}),"\n",(0,i.jsx)(n.p,{children:"Get container by ID."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Signature:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"index.getContainerByID({\n  id: string,\n  encoding: string\n}) -> {\n  id: string,\n  bytes: string,\n  timestamp: string,\n  encoding: string,\n  index: string\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"id"})," is the container's ID"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"encoding"})," is ",(0,i.jsx)(n.code,{children:'"hex"'})," only."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"id"})," is the container's ID"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"bytes"})," is the byte representation of the container"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"timestamp"})," is the time at which this node accepted the container"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"encoding"})," is ",(0,i.jsx)(n.code,{children:'"hex"'})," only."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"index"})," is how many containers were accepted in this index before this one"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example Call:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'curl --location --request POST \'localhost:9650/ext/index/X/tx\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "jsonrpc": "2.0",\n    "method": "index.getContainerByID",\n    "params": {\n        "id": "6fXf5hncR8LXvwtM8iezFQBpK5cubV6y1dWgpJCcNyzGB1EzY",\n        "encoding":"hex"\n    },\n    "id": 1\n}\'\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example Response:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "id": "6fXf5hncR8LXvwtM8iezFQBpK5cubV6y1dWgpJCcNyzGB1EzY",\n    "bytes": "0x00000000000400003039d891ad56056d9c01f18f43f58b5c784ad07a4a49cf3d1f11623804b5cba2c6bf00000001dbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db000000070429ccc5c5eb3b80000000000000000000000001000000013cb7d3842e8cee6a0ebd09f1fe884f6861e1b29c00000001dbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db00000001dbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db000000050429d069189e0000000000010000000000000000c85fc1980a77c5da78fe5486233fc09a769bb812bcb2cc548cf9495d046b3f1b00000001dbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db00000007000003a352a38240000000000000000000000001000000013cb7d3842e8cee6a0ebd09f1fe884f6861e1b29c0000000100000009000000011cdb75d4e0b0aeaba2ebc1ef208373fedc1ebbb498f8385ad6fb537211d1523a70d903b884da77d963d56f163191295589329b5710113234934d0fd59c01676b00b63d2108",\n    "timestamp": "2021-04-02T15:34:00.262979-07:00",\n    "encoding": "hex",\n    "index": "0"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"indexgetcontainerbyindex",children:(0,i.jsx)(n.code,{children:"index.getContainerByIndex"})}),"\n",(0,i.jsx)(n.p,{children:"Get container by index. The first container accepted is at index 0, the second is at index 1, etc."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Signature:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"index.getContainerByIndex({\n  index: uint64,\n  encoding: string\n}) -> {\n  id: string,\n  bytes: string,\n  timestamp: string,\n  encoding: string,\n  index: string\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"index"})," is how many containers were accepted in this index before this one"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"encoding"})," is ",(0,i.jsx)(n.code,{children:'"hex"'})," only."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"id"})," is the container's ID"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"bytes"})," is the byte representation of the container"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"timestamp"})," is the time at which this node accepted the container"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"index"})," is how many containers were accepted in this index before this one"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"encoding"})," is ",(0,i.jsx)(n.code,{children:'"hex"'})," only."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example Call:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'curl --location --request POST \'localhost:9650/ext/index/X/tx\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "jsonrpc": "2.0",\n    "method": "index.getContainerByIndex",\n    "params": {\n        "index":0,\n        "encoding": "hex"\n    },\n    "id": 1\n}\'\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example Response:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "id": "6fXf5hncR8LXvwtM8iezFQBpK5cubV6y1dWgpJCcNyzGB1EzY",\n    "bytes": "0x00000000000400003039d891ad56056d9c01f18f43f58b5c784ad07a4a49cf3d1f11623804b5cba2c6bf00000001dbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db000000070429ccc5c5eb3b80000000000000000000000001000000013cb7d3842e8cee6a0ebd09f1fe884f6861e1b29c00000001dbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db00000001dbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db000000050429d069189e0000000000010000000000000000c85fc1980a77c5da78fe5486233fc09a769bb812bcb2cc548cf9495d046b3f1b00000001dbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db00000007000003a352a38240000000000000000000000001000000013cb7d3842e8cee6a0ebd09f1fe884f6861e1b29c0000000100000009000000011cdb75d4e0b0aeaba2ebc1ef208373fedc1ebbb498f8385ad6fb537211d1523a70d903b884da77d963d56f163191295589329b5710113234934d0fd59c01676b00b63d2108",\n    "timestamp": "2021-04-02T15:34:00.262979-07:00",\n    "encoding": "hex",\n    "index": "0"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"indexgetcontainerrange",children:(0,i.jsx)(n.code,{children:"index.getContainerRange"})}),"\n",(0,i.jsxs)(n.p,{children:["Returns the transactions at index [",(0,i.jsx)(n.code,{children:"startIndex"}),"], [",(0,i.jsx)(n.code,{children:"startIndex+1"}),"], ... , [",(0,i.jsx)(n.code,{children:"startIndex+n-1"}),"]"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["If [",(0,i.jsx)(n.code,{children:"n"}),"] == 0, returns an empty response (for example: null)."]}),"\n",(0,i.jsxs)(n.li,{children:["If [",(0,i.jsx)(n.code,{children:"startIndex"}),"] > the last accepted index, returns an error (unless the above apply.)"]}),"\n",(0,i.jsxs)(n.li,{children:["If [",(0,i.jsx)(n.code,{children:"n"}),"] > [",(0,i.jsx)(n.code,{children:"MaxFetchedByRange"}),"], returns an error."]}),"\n",(0,i.jsx)(n.li,{children:"If we run out of transactions, returns the ones fetched before running out."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"numToFetch"})," must be in ",(0,i.jsx)(n.code,{children:"[0,1024]"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Signature:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"index.getContainerRange({\n  startIndex: uint64,\n  numToFetch: uint64,\n  encoding: string\n}) -> []{\n  id: string,\n  bytes: string,\n  timestamp: string,\n  encoding: string,\n  index: string\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"startIndex"})," is the beginning index"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"numToFetch"})," is the number of containers to fetch"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"encoding"})," is ",(0,i.jsx)(n.code,{children:'"hex"'})," only."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"id"})," is the container's ID"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"bytes"})," is the byte representation of the container"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"timestamp"})," is the time at which this node accepted the container"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"encoding"})," is ",(0,i.jsx)(n.code,{children:'"hex"'})," only."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"index"})," is how many containers were accepted in this index before this one"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example Call:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'curl --location --request POST \'localhost:9650/ext/index/X/tx\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "jsonrpc": "2.0",\n    "method": "index.getContainerRange",\n    "params": {\n        "startIndex":0,\n        "numToFetch":100,\n        "encoding": "hex"\n    },\n    "id": 1\n}\'\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example Response:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": [\n    {\n      "id": "6fXf5hncR8LXvwtM8iezFQBpK5cubV6y1dWgpJCcNyzGB1EzY",\n      "bytes": "0x00000000000400003039d891ad56056d9c01f18f43f58b5c784ad07a4a49cf3d1f11623804b5cba2c6bf00000001dbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db000000070429ccc5c5eb3b80000000000000000000000001000000013cb7d3842e8cee6a0ebd09f1fe884f6861e1b29c00000001dbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db00000001dbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db000000050429d069189e0000000000010000000000000000c85fc1980a77c5da78fe5486233fc09a769bb812bcb2cc548cf9495d046b3f1b00000001dbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db00000007000003a352a38240000000000000000000000001000000013cb7d3842e8cee6a0ebd09f1fe884f6861e1b29c0000000100000009000000011cdb75d4e0b0aeaba2ebc1ef208373fedc1ebbb498f8385ad6fb537211d1523a70d903b884da77d963d56f163191295589329b5710113234934d0fd59c01676b00b63d2108",\n      "timestamp": "2021-04-02T15:34:00.262979-07:00",\n      "encoding": "hex",\n      "index": "0"\n    }\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"indexgetindex",children:(0,i.jsx)(n.code,{children:"index.getIndex"})}),"\n",(0,i.jsx)(n.p,{children:"Get a container's index."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Signature:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"index.getIndex({\n  id: string,\n  encoding: string\n}) -> {\n  index: string\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"id"})," is the ID of the container to fetch"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"encoding"})," is ",(0,i.jsx)(n.code,{children:'"hex"'})," only."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"index"})," is how many containers were accepted in this index before this one"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example Call:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'curl --location --request POST \'localhost:9650/ext/index/X/tx\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "jsonrpc": "2.0",\n    "method": "index.getIndex",\n    "params": {\n        "id":"6fXf5hncR8LXvwtM8iezFQBpK5cubV6y1dWgpJCcNyzGB1EzY",\n        "encoding": "hex"\n    },\n    "id": 1\n}\'\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example Response:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "result": {\n    "index": "0"\n  },\n  "id": 1\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"indexgetlastaccepted",children:(0,i.jsx)(n.code,{children:"index.getLastAccepted"})}),"\n",(0,i.jsx)(n.p,{children:"Get the most recently accepted container."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Signature:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"index.getLastAccepted({\n  encoding:string\n}) -> {\n  id: string,\n  bytes: string,\n  timestamp: string,\n  encoding: string,\n  index: string\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"encoding"})," is ",(0,i.jsx)(n.code,{children:'"hex"'})," only."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"id"})," is the container's ID"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"bytes"})," is the byte representation of the container"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"timestamp"})," is the time at which this node accepted the container"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"encoding"})," is ",(0,i.jsx)(n.code,{children:'"hex"'})," only."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example Call:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'curl --location --request POST \'localhost:9650/ext/index/X/tx\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "jsonrpc": "2.0",\n    "method": "index.getLastAccepted",\n    "params": {\n        "encoding": "hex"\n    },\n    "id": 1\n}\'\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example Response:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "id": 1,\n  "result": {\n    "id": "6fXf5hncR8LXvwtM8iezFQBpK5cubV6y1dWgpJCcNyzGB1EzY",\n    "bytes": "0x00000000000400003039d891ad56056d9c01f18f43f58b5c784ad07a4a49cf3d1f11623804b5cba2c6bf00000001dbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db000000070429ccc5c5eb3b80000000000000000000000001000000013cb7d3842e8cee6a0ebd09f1fe884f6861e1b29c00000001dbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db00000001dbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db000000050429d069189e0000000000010000000000000000c85fc1980a77c5da78fe5486233fc09a769bb812bcb2cc548cf9495d046b3f1b00000001dbcf890f77f49b96857648b72b77f9f82937f28a68704af05da0dc12ba53f2db00000007000003a352a38240000000000000000000000001000000013cb7d3842e8cee6a0ebd09f1fe884f6861e1b29c0000000100000009000000011cdb75d4e0b0aeaba2ebc1ef208373fedc1ebbb498f8385ad6fb537211d1523a70d903b884da77d963d56f163191295589329b5710113234934d0fd59c01676b00b63d2108",\n    "timestamp": "2021-04-02T15:34:00.262979-07:00",\n    "encoding": "hex",\n    "index": "0"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"indexisaccepted",children:(0,i.jsx)(n.code,{children:"index.isAccepted"})}),"\n",(0,i.jsx)(n.p,{children:"Returns true if the container is in this index."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Signature:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"index.isAccepted({\n  id: string,\n  encoding: string\n}) -> {\n  isAccepted: bool\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Request:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"id"})," is the ID of the container to fetch"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"encoding"})," is ",(0,i.jsx)(n.code,{children:'"hex"'})," only."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Response:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"isAccepted"})," displays if the container has been accepted"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example Call:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'curl --location --request POST \'localhost:9650/ext/index/X/tx\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "jsonrpc": "2.0",\n    "method": "index.isAccepted",\n    "params": {\n        "id":"6fXf5hncR8LXvwtM8iezFQBpK5cubV6y1dWgpJCcNyzGB1EzY",\n        "encoding": "hex"\n    },\n    "id": 1\n}\'\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example Response:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "result": {\n    "isAccepted": true\n  },\n  "id": 1\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"example-iterating-through-x-chain-transaction",children:"Example: Iterating Through X-Chain Transaction"}),"\n",(0,i.jsx)(n.p,{children:"Here is an example of how to iterate through all transactions on the X-Chain."}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsxs)(n.p,{children:["To help users to try out this example and other index APIs, we have set up a testing\nindexer node located at ",(0,i.jsx)(n.a,{href:"https://indexer-demo.lux.network",children:"https://indexer-demo.lux.network"}),". This\nindexer node is not for production use. We may change or shut it down at any time without notice."]})}),"\n",(0,i.jsxs)(n.p,{children:["You can use the Index API to get the ID of every transaction that has been accepted on the X-Chain,\nand use the X-Chain API method ",(0,i.jsx)(n.code,{children:"avm.getTx"})," to get a human-readable representation of the\ntransaction."]}),"\n",(0,i.jsxs)(n.p,{children:["To get an X-Chain transaction by its index (the order it was accepted in), use Index API method\n",(0,i.jsx)(n.a,{href:"#indexgetlastaccepted",children:"index.getlastaccepted"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, to get the ",(0,i.jsx)(n.em,{children:"second"})," transaction (note that ",(0,i.jsx)(n.code,{children:'"index":1'}),") accepted on the X-Chain, do:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'curl --location --request POST \'https://indexer-demo.lux.network/ext/index/X/tx\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n   "jsonrpc": "2.0",\n   "method": "index.getContainerByIndex",\n   "params": {\n       "encoding":"hex",\n       "index":1\n   },\n   "id": 1\n}\'\n'})}),"\n",(0,i.jsxs)(n.p,{children:["This returns the ID of the second transaction accepted in the X-Chain's history. To get the third\ntransaction on the X-Chain, use ",(0,i.jsx)(n.code,{children:'"index":2'}),", and so on."]}),"\n",(0,i.jsx)(n.p,{children:"The above API call gives the response below:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "result": {\n    "id": "ZGYTSU8w3zUP6VFseGC798vA2Vnxnfj6fz1QPfA9N93bhjJvo",\n    "bytes": "0x00000000000000000001ed5f38341e436e5d46e2bb00b45d62ae97d1b050c64bc634ae10626739e35c4b0000000221e67317cbc4be2aeb00677ad6462778a8f52274b9d605df2591b23027a87dff000000070000000129f6afc0000000000000000000000001000000017416792e228a765c65e2d76d28ab5a16d18c342f21e67317cbc4be2aeb00677ad6462778a8f52274b9d605df2591b23027a87dff0000000700000222afa575c00000000000000000000000010000000187d6a6dd3cd7740c8b13a410bea39b01fa83bb3e000000016f375c785edb28d52edb59b54035c96c198e9d80f5f5f5eee070592fe9465b8d0000000021e67317cbc4be2aeb00677ad6462778a8f52274b9d605df2591b23027a87dff0000000500000223d9ab67c0000000010000000000000000000000010000000900000001beb83d3d29f1247efb4a3a1141ab5c966f46f946f9c943b9bc19f858bd416d10060c23d5d9c7db3a0da23446b97cd9cf9f8e61df98e1b1692d764c84a686f5f801a8da6e40",\n    "timestamp": "2021-11-04T00:42:55.01643414Z",\n    "encoding": "hex",\n    "index": "1"\n  },\n  "id": 1\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["The ID of this transaction is ",(0,i.jsx)(n.code,{children:"ZGYTSU8w3zUP6VFseGC798vA2Vnxnfj6fz1QPfA9N93bhjJvo"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["To get the transaction by its ID, use API method ",(0,i.jsx)(n.code,{children:"avm.getTx"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'curl -X POST --data \'{\n    "jsonrpc":"2.0",\n    "id"     :1,\n    "method" :"avm.getTx",\n    "params" :{\n        "txID":"ZGYTSU8w3zUP6VFseGC798vA2Vnxnfj6fz1QPfA9N93bhjJvo",\n        "encoding": "json"\n    }\n}\' -H \'content-type:application/json;\' https://api.lux.network/ext/bc/X\n'})}),"\n",(0,i.jsx)(n.p,{children:"Response:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "jsonrpc": "2.0",\n  "result": {\n    "tx": {\n      "unsignedTx": {\n        "networkID": 1,\n        "blockchainID": "2oYMBNV4eNHyqk2fjjV5nVQLDbtmNJzq5s3qs3Lo6ftnC6FByM",\n        "outputs": [\n          {\n            "assetID": "FvwEAhmxKfeiG8SnEvq42hc6whRyY3EFYAvebMqDNDGCgxN5Z",\n            "fxID": "spdxUxVJQbX85MGxMHbKw1sHxMnSqJ3QBzDyDYEP3h6TLuxqQ",\n            "output": {\n              "addresses": ["X-lux1wst8jt3z3fm9ce0z6akj3266zmgccdp03hjlaj"],\n              "amount": 4999000000,\n              "locktime": 0,\n              "threshold": 1\n            }\n          },\n          {\n            "assetID": "FvwEAhmxKfeiG8SnEvq42hc6whRyY3EFYAvebMqDNDGCgxN5Z",\n            "fxID": "spdxUxVJQbX85MGxMHbKw1sHxMnSqJ3QBzDyDYEP3h6TLuxqQ",\n            "output": {\n              "addresses": ["X-lux1slt2dhfu6a6qezcn5sgtagumq8ag8we75f84sw"],\n              "amount": 2347999000000,\n              "locktime": 0,\n              "threshold": 1\n            }\n          }\n        ],\n        "inputs": [\n          {\n            "txID": "qysTYUMCWdsR3MctzyfXiSvoSf6evbeFGRLLzA4j2BjNXTknh",\n            "outputIndex": 0,\n            "assetID": "FvwEAhmxKfeiG8SnEvq42hc6whRyY3EFYAvebMqDNDGCgxN5Z",\n            "fxID": "spdxUxVJQbX85MGxMHbKw1sHxMnSqJ3QBzDyDYEP3h6TLuxqQ",\n            "input": {\n              "amount": 2352999000000,\n              "signatureIndices": [0]\n            }\n          }\n        ],\n        "memo": "0x"\n      },\n      "credentials": [\n        {\n          "fxID": "spdxUxVJQbX85MGxMHbKw1sHxMnSqJ3QBzDyDYEP3h6TLuxqQ",\n          "credential": {\n            "signatures": [\n              "0xbeb83d3d29f1247efb4a3a1141ab5c966f46f946f9c943b9bc19f858bd416d10060c23d5d9c7db3a0da23446b97cd9cf9f8e61df98e1b1692d764c84a686f5f801"\n            ]\n          }\n        }\n      ]\n    },\n    "encoding": "json"\n  },\n  "id": 1\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},43540:(e,n,d)=>{d.d(n,{R:()=>t,x:()=>a});var i=d(48318);const c={},s=i.createContext(c);function t(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:t(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);
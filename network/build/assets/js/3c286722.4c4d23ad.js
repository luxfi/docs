"use strict";(self.webpackChunk_luxdocs_network=self.webpackChunk_luxdocs_network||[]).push([[2878],{71478:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>c,frontMatter:()=>s,metadata:()=>u,toc:()=>l});var o=n(49214),a=n(43540);const s={tags:["Build","Subnets"],description:"This how-to guide explains how to upgrade a deployed Subnet's Virtual Machine.",sidebar_label:"Subnet Virtual Machine",pagination_label:"Upgrade a Subnet's Virtual Machine",sidebar_position:2},r="How to Upgrade a Subnet's Virtual Machine",u={id:"build/subnet/upgrade/upgrade-subnet-vm",title:"How to Upgrade a Subnet's Virtual Machine",description:"This how-to guide explains how to upgrade a deployed Subnet's Virtual Machine.",source:"@site/docs/build/subnet/upgrade/upgrade-subnet-vm.md",sourceDirName:"build/subnet/upgrade",slug:"/build/subnet/upgrade/upgrade-subnet-vm",permalink:"/docs/build/subnet/upgrade/upgrade-subnet-vm",draft:!1,unlisted:!1,editUrl:"https://github.com/luxfi/docs/edit/main/docs/build/subnet/upgrade/upgrade-subnet-vm.md",tags:[{label:"Build",permalink:"/docs/tags/build"},{label:"Subnets",permalink:"/docs/tags/subnets"}],version:"current",sidebarPosition:2,frontMatter:{tags:["Build","Subnets"],description:"This how-to guide explains how to upgrade a deployed Subnet's Virtual Machine.",sidebar_label:"Subnet Virtual Machine",pagination_label:"Upgrade a Subnet's Virtual Machine",sidebar_position:2},sidebar:"build-subnet",previous:{title:"Customize your EVM-Powered Subnet",permalink:"/docs/build/subnet/upgrade/customize-a-subnet"},next:{title:"Upgrade Your Subnet-EVM Precompile Configuration",permalink:"/docs/build/subnet/upgrade/upgrade-precompile"}},i={},l=[{value:"Upgrading a Local VM",id:"upgrading-a-local-vm",level:2},{value:"Selecting a VM Deployment to Upgrade",id:"selecting-a-vm-deployment-to-upgrade",level:3},{value:"Select a VM to Upgrade To",id:"select-a-vm-to-upgrade-to",level:3},{value:"Restart the Network",id:"restart-the-network",level:3}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"how-to-upgrade-a-subnets-virtual-machine",children:"How to Upgrade a Subnet's Virtual Machine"}),"\n",(0,o.jsx)(t.p,{children:"This how-to guide explains how to upgrade an already-deployed Subnet."}),"\n",(0,o.jsx)(t.h2,{id:"upgrading-a-local-vm",children:"Upgrading a Local VM"}),"\n",(0,o.jsx)(t.p,{children:"To upgrade a local Subnet, you first need to pause the local network. To do so, run"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-shell",children:"lux network stop\n"})}),"\n",(0,o.jsx)(t.p,{children:"Next, you need to select the new VM to run your Subnet on. If you're running a Subnet-EVM Subnet,\nyou likely want to bump to the latest released version. If you're running a Custom VM, you'll want\nto choose another custom binary."}),"\n",(0,o.jsx)(t.p,{children:"Start the upgrade wizard with"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-shell",children:"lux subnet upgrade vm <subnetName>\n"})}),"\n",(0,o.jsxs)(t.p,{children:["where you replace ",(0,o.jsx)(t.code,{children:"<subnetName>"})," with the name of the Subnet you'd like to upgrade."]}),"\n",(0,o.jsx)(t.h3,{id:"selecting-a-vm-deployment-to-upgrade",children:"Selecting a VM Deployment to Upgrade"}),"\n",(0,o.jsx)(t.p,{children:"After starting the Subnet Upgrade Wizard, you should see something like this:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-text",children:"? What deployment would you like to upgrade:\n  \u25b8 Update config for future deployments\n    Existing local deployment\n"})}),"\n",(0,o.jsxs)(t.p,{children:["If you select the first option, Lux-CLI updates your Subnet's config and any future calls to\n",(0,o.jsx)(t.code,{children:"lux subnet deploy"})," use the new version you select. However, any existing local deployments\ncontinue to use the old version."]}),"\n",(0,o.jsx)(t.p,{children:"If you select the second option, the opposite occurs. The existing local deployment switches\nto the new VM but subsequent deploys use the original."}),"\n",(0,o.jsx)(t.h3,{id:"select-a-vm-to-upgrade-to",children:"Select a VM to Upgrade To"}),"\n",(0,o.jsx)(t.p,{children:"The next option asks you to select your new virtual machine."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-text",children:"? How would you like to update your subnet's virtual machine:\n  \u25b8 Update to latest version\n    Update to a specific version\n    Update to a custom binary\n"})}),"\n",(0,o.jsx)(t.p,{children:"If you're using the Subnet-EVM, you'll have the option to upgrade to the latest released\nversion. You can also select a specific version or supply a custom binary. If your Subnet already\nuses a custom VM, you need to select another custom binary."}),"\n",(0,o.jsx)(t.p,{children:"Once you select your VM, you should see something like:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-text",children:"Upgrade complete. Ready to restart the network.\n"})}),"\n",(0,o.jsx)(t.h3,{id:"restart-the-network",children:"Restart the Network"}),"\n",(0,o.jsx)(t.admonition,{type:"note",children:(0,o.jsxs)(t.p,{children:["If you are running multiple Subnets concurrently, you may need to update multiple Subnets to restart\nthe network. All of your deployed must be using the same RPC Protocol version. You can see more\ndetails about this ",(0,o.jsx)(t.a,{href:"/docs/build/subnet/info/troubleshoot-subnet#incompatible-rpc-version-for-custom-vm",children:"here"}),"."]})}),"\n",(0,o.jsx)(t.p,{children:"Finally, restart the network with"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-shell",children:"lux network start\n"})}),"\n",(0,o.jsx)(t.p,{children:"If the network starts correctly, your Subnet is now running the upgraded VM."})]})}function c(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},43540:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>u});var o=n(48318);const a={},s=o.createContext(a);function r(e){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function u(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);
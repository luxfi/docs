<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-nodes/maintain/run-offline-pruning" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.2">
<title data-rh="true">Run C-Chain Offline Pruning | Lux Network Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://docs.lux.network/img/Lux-OG-Image.png?force-reload-1"><meta data-rh="true" name="twitter:image" content="https://docs.lux.network/img/Lux-OG-Image.png?force-reload-1"><meta data-rh="true" property="og:url" content="https://docs.lux.network/docs/nodes/maintain/run-offline-pruning"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:description" content="The fastest, most reliable smart contracts platform in the world. Build anything you want, any way you want, on the eco-friendly blockchain designed for Web3 devs."><meta data-rh="true" name="twitter:title" content="Lux Network Docs: Create Without Limits"><meta data-rh="true" name="keywords" content="Lux Network Docs: Create Without Limits"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Run C-Chain Offline Pruning | Lux Network Docs"><meta data-rh="true" name="description" content="In this doc, learn how to run offline pruning on your node to reduce its disk usage."><meta data-rh="true" property="og:description" content="In this doc, learn how to run offline pruning on your node to reduce its disk usage."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.lux.network/docs/nodes/maintain/run-offline-pruning"><link data-rh="true" rel="alternate" href="https://docs.lux.network/docs/nodes/maintain/run-offline-pruning" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://docs.lux.network/docs/nodes/maintain/run-offline-pruning" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://4842GXJR5Q-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-PLV38BFX",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>


<link rel="search" type="application/opensearchdescription+xml" title="Lux Network Docs" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.c0051d81.css">
<script src="/assets/js/runtime~main.df23feb1.js" defer="defer"></script>
<script src="/assets/js/main.2bdccb41.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PLV38BFX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_W7Pl" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/lux-logo-white.png" alt="Lux Logo" class="themedComponent_MsLv themedComponent--light_Tu5Z"><img src="/img/lux-logo-white.png" alt="Lux Logo" class="themedComponent_MsLv themedComponent--dark_kALa"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/docs/intro">Learn</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Build</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/build/dapp">Dapps</a></li><li><a class="dropdown__link" href="/docs/build/subnet">Subnets</a></li><li><a class="dropdown__link" href="/docs/build/vm">Virtual Machines</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/nodes">Nodes</a><a class="navbar__item navbar__link" href="/docs/tooling">Tooling</a><a class="navbar__item navbar__link" href="/docs/reference">Reference</a></div><div class="navbar__items navbar__items--right"><div class="toggle_J3Rz colorModeToggle_G6as"><button class="clean-btn toggleButton_syTT toggleButtonDisabled_YSjw" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_Df_j"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_TcbO"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer__CWv"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper__mvV"><div class="docsWrapper_gkkA"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_wR0P" type="button"></button><div class="docRoot_Flpe"><aside class="theme-doc-sidebar-container docSidebarContainer_PsGA"><div class="sidebarViewport_elDr"><div class="sidebar_mXEi"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_a9XK"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><span class="menu__item"><b><medium> ▼ Nodes </medium></b></span></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodes">🔗 Quick Links</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodes/system-requirements">System Requirements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><span class="menu__item"><b><medium> Run a Node </medium></b></span></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodes/run/node-manually">Manually</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/nodes/run/with-installer/preparing-your-environment">Using the Install Script</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodes/run/subnet-node">Subnet Nodes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/nodes/run/third-party/aws-node">on Third-Party Services</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodes/run/FAQ">Common Errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><span class="menu__item"><b><medium> Configure </medium></b></span></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodes/configure/luxd-config-flags">Node Configs + Flags</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodes/configure/chain-config-flags">Chain Configs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodes/configure/subnet-configs">Subnet Configs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><span class="menu__item"><b><medium> Validate </medium></b></span></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodes/validate/what-is-staking">What Is Staking?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodes/validate/validate-or-delegate">Validate vs. Delegate</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodes/validate/how-to-stake">How to Stake</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodes/validate/add-a-validator">Node ➡️ Validator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><span class="menu__item"><b><medium> Maintain </medium></b></span></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodes/maintain/node-bootstrap">Bootstrapping: What to Expect</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodes/maintain/node-backup-and-restore">Backup and Restore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodes/maintain/setting-up-node-monitoring">Monitoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodes/maintain/upgrade-your-luxd-node">Upgrade</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/nodes/maintain/run-offline-pruning">Reduce Disk Usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodes/maintain/notify">Enroll in Lux Notify</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/nodes/maintain/background-service-config">Run as a Background Service</a></li></ul></nav></div></div></aside><main class="docMainContainer_mbLL"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_UmVr"><div class="docItemContainer_ZQ6k"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_a7jg" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_XFa_"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Reduce Disk Usage</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_G0g8 theme-doc-toc-mobile tocMobile_GQHQ"><button type="button" class="clean-btn tocCollapsibleButton_BClo">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Run C-Chain Offline Pruning</h1>
<h2 class="anchor anchorWithStickyNavbar_lBvC" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>Offline Pruning is ported from <code>go-ethereum</code> to reduce the amount of disk space
taken up by the TrieDB (storage for the Merkle Forest).</p>
<p>Offline pruning creates a bloom filter and adds all trie nodes in the active
state to the bloom filter to mark the data as protected. This ensures that any
part of the active state will not be removed during offline pruning.</p>
<p>After generating the bloom filter, offline pruning iterates over the database
and searches for trie nodes that are safe to be removed from disk.</p>
<p>A bloom filter is a probabilistic data structure that reports whether an item is
definitely not in a set or possibly in a set. Therefore, for each key we
iterate, we check if it is in the bloom filter. If the key is definitely not in
the bloom filter, then it is not in the active state and we can safely delete
it. If the key is possibly in the set, then we skip over it to ensure we do not
delete any active state.</p>
<p>During iteration, the underlying database (LevelDB) writes deletion markers,
causing a temporary increase in disk usage.</p>
<p>After iterating over the database and deleting any old trie nodes that it can,
offline pruning then runs compaction to minimize the DB size after the
potentially large number of delete operations.</p>
<h2 class="anchor anchorWithStickyNavbar_lBvC" id="finding-the-c-chain-config-file">Finding the C-Chain Config File<a href="#finding-the-c-chain-config-file" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>In order to enable offline pruning, you need to update the C-Chain config file
to include the parameters <code>offline-pruning-enabled</code> and
<code>offline-pruning-data-directory</code>.</p>
<p>The default location of the C-Chain config file is
<code>~/.luxd/configs/chains/C/config.json</code>. <strong>Please note that by default,
this file does not exist. You would need to create it manually.</strong> You can update
the directory for chain configs by passing in the directory of your choice via
the CLI argument: <code>chain-config-dir</code>. See <a href="/docs/nodes/configure/chain-config-flags">this</a> for more
info. For example, if you start your node with:</p>
<div class="language-zsh codeBlockContainer_hIkJ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_lj6G"><pre tabindex="0" class="prism-code language-zsh codeBlock_shPM thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_GuLG"><span class="token-line" style="color:#393A34"><span class="token plain">./build/luxd --chain-config-dir=/home/ubuntu/chain-configs</span><br></span></code></pre><div class="buttonGroup_UauG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_N3nO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_OX13"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_hEg0"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The chain config directory will be updated to <code>/home/ubuntu/chain-configs</code> and
the corresponding C-Chain config file will be:
<code>/home/ubuntu/chain-configs/C/config.json</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_lBvC" id="running-offline-pruning">Running Offline Pruning<a href="#running-offline-pruning" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>In order to enable offline pruning, update the C-Chain config file to include the following parameters:</p>
<div class="language-json codeBlockContainer_hIkJ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_lj6G"><pre tabindex="0" class="prism-code language-json codeBlock_shPM thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_GuLG"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;offline-pruning-enabled&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;offline-pruning-data-directory&quot;: &quot;/home/ubuntu/offline-pruning&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_UauG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_N3nO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_OX13"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_hEg0"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will set <code>/home/ubuntu/offline-pruning</code> as the directory to be used by the
offline pruner. Offline pruning will store the bloom filter in this location, so
you must ensure that the path exists.</p>
<p>Now that the C-Chain config file has been updated, you can start your node with
the command (no CLI arguments are necessary if using the default chain config
directory):</p>
<div class="language-zsh codeBlockContainer_hIkJ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_lj6G"><pre tabindex="0" class="prism-code language-zsh codeBlock_shPM thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_GuLG"><span class="token-line" style="color:#393A34"><span class="token plain">./build/luxd</span><br></span></code></pre><div class="buttonGroup_UauG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_N3nO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_OX13"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_hEg0"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Once Luxd starts the C-Chain, you can expect to see update logs from the offline pruner:</p>
<div class="language-zsh codeBlockContainer_hIkJ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_lj6G"><pre tabindex="0" class="prism-code language-zsh codeBlock_shPM thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_GuLG"><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:20:15.625] Iterating state snapshot                 accounts=297,231 slots=6,669,708 elapsed=16.001s eta=1m29.03s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:20:23.626] Iterating state snapshot                 accounts=401,907 slots=10,698,094 elapsed=24.001s eta=1m32.522s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:20:31.626] Iterating state snapshot                 accounts=606,544 slots=13,891,948 elapsed=32.002s eta=1m10.927s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:20:39.626] Iterating state snapshot                 accounts=760,948 slots=18,025,523 elapsed=40.002s eta=1m2.603s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:20:47.626] Iterating state snapshot                 accounts=886,583 slots=21,769,199 elapsed=48.002s eta=1m8.834s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:20:55.626] Iterating state snapshot                 accounts=1,046,295 slots=26,120,100 elapsed=56.002s eta=57.401s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:21:03.626] Iterating state snapshot                 accounts=1,229,257 slots=30,241,391 elapsed=1m4.002s eta=47.674s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:21:11.626] Iterating state snapshot                 accounts=1,344,091 slots=34,128,835 elapsed=1m12.002s eta=45.185s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:21:19.626] Iterating state snapshot                 accounts=1,538,009 slots=37,791,218 elapsed=1m20.002s eta=34.59s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:21:27.627] Iterating state snapshot                 accounts=1,729,564 slots=41,694,303 elapsed=1m28.002s eta=25.006s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:21:35.627] Iterating state snapshot                 accounts=1,847,617 slots=45,646,011 elapsed=1m36.003s eta=20.052s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:21:43.627] Iterating state snapshot                 accounts=1,950,875 slots=48,832,722 elapsed=1m44.003s eta=9.299s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:21:47.342] Iterated snapshot                        accounts=1,950,875 slots=49,667,870 elapsed=1m47.718s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:21:47.351] Writing state bloom to disk              name=/home/ubuntu/offline-pruning/statebloom.0xd6fca36db4b60b34330377040ef6566f6033ed8464731cbb06dc35c8401fa38e.bf.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:23:04.421] State bloom filter committed             name=/home/ubuntu/offline-pruning/statebloom.0xd6fca36db4b60b34330377040ef6566f6033ed8464731cbb06dc35c8401fa38e.bf.gz</span><br></span></code></pre><div class="buttonGroup_UauG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_N3nO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_OX13"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_hEg0"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The bloom filter should be populated and committed to disk after about 5
minutes. At this point, if the node shuts down, it will resume the offline
pruning session when it restarts (note: this operation cannot be cancelled).</p>
<p>In order to ensure that users do not mistakenly leave offline pruning enabled
for the long term (which could result in an hour of downtime on each restart),
we have added a manual protection which requires that after an offline pruning
session, the node must be started with offline pruning disabled at least once
before it will start with offline pruning enabled again. Therefore, once the
bloom filter has been committed to disk, you should update the C-Chain config
file to include the following parameters:</p>
<div class="language-json codeBlockContainer_hIkJ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_lj6G"><pre tabindex="0" class="prism-code language-json codeBlock_shPM thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_GuLG"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;offline-pruning-enabled&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;offline-pruning-data-directory&quot;: &quot;/home/ubuntu/offline-pruning&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_UauG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_N3nO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_OX13"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_hEg0"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It is important to keep the same data directory in the config file, so that the
node knows where to look for the bloom filter on a restart if offline pruning
has not finished.</p>
<p>Now if your node restarts, it will be marked as having correctly disabled
offline pruning after the run and be allowed to resume normal operation once
offline pruning has finished running.</p>
<p>You will see progress logs throughout the offline pruning run which will indicate the session&#x27;s progress:</p>
<div class="language-zsh codeBlockContainer_hIkJ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_lj6G"><pre tabindex="0" class="prism-code language-zsh codeBlock_shPM thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_GuLG"><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:31:51.920] Pruning state data                       nodes=40,116,759 size=10.08GiB  elapsed=8m47.499s eta=12m50.961s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:31:59.921] Pruning state data                       nodes=41,659,059 size=10.47GiB  elapsed=8m55.499s eta=12m13.822s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:32:07.921] Pruning state data                       nodes=41,687,047 size=10.48GiB  elapsed=9m3.499s  eta=12m23.915s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:32:15.921] Pruning state data                       nodes=41,715,823 size=10.48GiB  elapsed=9m11.499s eta=12m33.965s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:32:23.921] Pruning state data                       nodes=41,744,167 size=10.49GiB  elapsed=9m19.500s eta=12m44.004s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:32:31.921] Pruning state data                       nodes=41,772,613 size=10.50GiB  elapsed=9m27.500s eta=12m54.01s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:32:39.921] Pruning state data                       nodes=41,801,267 size=10.50GiB  elapsed=9m35.500s eta=13m3.992s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:32:47.922] Pruning state data                       nodes=41,829,714 size=10.51GiB  elapsed=9m43.500s eta=13m13.951s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:32:55.922] Pruning state data                       nodes=41,858,400 size=10.52GiB  elapsed=9m51.501s eta=13m23.885s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:33:03.923] Pruning state data                       nodes=41,887,131 size=10.53GiB  elapsed=9m59.501s eta=13m33.79s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:33:11.923] Pruning state data                       nodes=41,915,583 size=10.53GiB  elapsed=10m7.502s eta=13m43.678s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:33:19.924] Pruning state data                       nodes=41,943,891 size=10.54GiB  elapsed=10m15.502s eta=13m53.551s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:33:27.924] Pruning state data                       nodes=41,972,281 size=10.55GiB  elapsed=10m23.502s eta=14m3.389s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:33:35.924] Pruning state data                       nodes=42,001,414 size=10.55GiB  elapsed=10m31.503s eta=14m13.192s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:33:43.925] Pruning state data                       nodes=42,029,987 size=10.56GiB  elapsed=10m39.504s eta=14m22.976s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:33:51.925] Pruning state data                       nodes=42,777,042 size=10.75GiB  elapsed=10m47.504s eta=14m7.245s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:34:00.950] Pruning state data                       nodes=42,865,413 size=10.77GiB  elapsed=10m56.529s eta=14m15.927s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:34:08.956] Pruning state data                       nodes=42,918,719 size=10.79GiB  elapsed=11m4.534s  eta=14m24.453s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:34:22.816] Pruning state data                       nodes=42,952,925 size=10.79GiB  elapsed=11m18.394s eta=14m41.243s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:34:30.818] Pruning state data                       nodes=42,998,715 size=10.81GiB  elapsed=11m26.397s eta=14m49.961s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:34:38.828] Pruning state data                       nodes=43,046,476 size=10.82GiB  elapsed=11m34.407s eta=14m58.572s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:34:46.893] Pruning state data                       nodes=43,107,656 size=10.83GiB  elapsed=11m42.472s eta=15m6.729s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:34:55.038] Pruning state data                       nodes=43,168,834 size=10.85GiB  elapsed=11m50.616s eta=15m14.934s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:35:03.039] Pruning state data                       nodes=43,446,900 size=10.92GiB  elapsed=11m58.618s eta=15m14.705s</span><br></span></code></pre><div class="buttonGroup_UauG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_N3nO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_OX13"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_hEg0"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When the node completes, it will emit the following log and resume normal operation:</p>
<div class="language-zsh codeBlockContainer_hIkJ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_lj6G"><pre tabindex="0" class="prism-code language-zsh codeBlock_shPM thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_GuLG"><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:42:16.009] Pruning state data                       nodes=93,649,812 size=23.53GiB  elapsed=19m11.588s eta=1m2.658s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:42:24.009] Pruning state data                       nodes=95,045,956 size=23.89GiB  elapsed=19m19.588s eta=45.149s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:42:32.009] Pruning state data                       nodes=96,429,410 size=24.23GiB  elapsed=19m27.588s eta=28.041s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:42:40.009] Pruning state data                       nodes=97,811,804 size=24.58GiB  elapsed=19m35.588s eta=11.204s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:42:45.359] Pruned state data                        nodes=98,744,430 size=24.82GiB  elapsed=19m40.938s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:42:45.360] Compacting database                      range=0x00-0x10 elapsed=&quot;2.157µs&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:43:12.311] Compacting database                      range=0x10-0x20 elapsed=26.951s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:43:38.763] Compacting database                      range=0x20-0x30 elapsed=53.402s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:44:04.847] Compacting database                      range=0x30-0x40 elapsed=1m19.486s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:44:31.194] Compacting database                      range=0x40-0x50 elapsed=1m45.834s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:45:31.580] Compacting database                      range=0x50-0x60 elapsed=2m46.220s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:45:58.465] Compacting database                      range=0x60-0x70 elapsed=3m13.104s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:51:17.593] Compacting database                      range=0x70-0x80 elapsed=8m32.233s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:56:19.679] Compacting database                      range=0x80-0x90 elapsed=13m34.319s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:56:46.011] Compacting database                      range=0x90-0xa0 elapsed=14m0.651s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:57:12.370] Compacting database                      range=0xa0-0xb0 elapsed=14m27.010s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:57:38.600] Compacting database                      range=0xb0-0xc0 elapsed=14m53.239s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:58:06.311] Compacting database                      range=0xc0-0xd0 elapsed=15m20.951s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:58:35.484] Compacting database                      range=0xd0-0xe0 elapsed=15m50.123s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:05.449] Compacting database                      range=0xe0-0xf0 elapsed=16m20.089s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34.365] Compacting database                      range=0xf0-     elapsed=16m49.005s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34.367] Database compaction finished             elapsed=16m49.006s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34.367] State pruning successful                 pruned=24.82GiB elapsed=39m34.749s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34.367] Completed offline pruning. Re-initializing blockchain.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34.387] Loaded most recent local header          number=10,671,401 hash=b52d0a..7bd166 age=40m29s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34.387] Loaded most recent local full block      number=10,671,401 hash=b52d0a..7bd166 age=40m29s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34.387] Initializing snapshots                   async=true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG[02-09|00:59:34.390] Reinjecting stale transactions           count=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34.395] Transaction pool price threshold updated price=470,000,000,000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34.396] Transaction pool price threshold updated price=225,000,000,000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34.396] Transaction pool price threshold updated price=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34.396] lastAccepted = 0xb52d0a1302e4055b487c3a0243106b5e13a915c6e178da9f8491cebf017bd166</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34] &lt;C Chain&gt; snow/engine/snowman/transitive.go#67: initializing consensus engine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34] &lt;C Chain&gt; snow/engine/snowman/bootstrap/bootstrapper.go#220: Starting bootstrap...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34] chains/manager.go#246: creating chain:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ID: 2oYMBNV4eNHyqk2fjjV5nVQLDbtmNJzq5s3qs3Lo6ftnC6FByM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VMID:jvYyfQTxGMJLuGWa55kdP2p2zSUYsQ5Raupu4TW34ZAUBAbtq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34.425] Enabled APIs: eth, eth-filter, net, web3, internal-eth, internal-blockchain, internal-transaction, lux</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG[02-09|00:59:34.425] Allowed origin(s) for WS RPC interface [*]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34] api/server/server.go#203: adding route /ext/bc/2q9e4r6Mu3U68nU1fYjgbR6JvwrRx36CohpAX5UQxse55x1Q5/lux</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34] api/server/server.go#203: adding route /ext/bc/2q9e4r6Mu3U68nU1fYjgbR6JvwrRx36CohpAX5UQxse55x1Q5/rpc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34] api/server/server.go#203: adding route /ext/bc/2q9e4r6Mu3U68nU1fYjgbR6JvwrRx36CohpAX5UQxse55x1Q5/ws</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34] &lt;X Chain&gt; vms/avm/vm.go#437: Fee payments are using Asset with Alias: LUX, AssetID: FvwEAhmxKfeiG8SnEvq42hc6whRyY3EFYAvebMqDNDGCgxN5Z</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34] &lt;X Chain&gt; vms/avm/vm.go#229: address transaction indexing is disabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34] &lt;X Chain&gt; snow/engine/lux/transitive.go#71: initializing consensus engine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34] &lt;X Chain&gt; snow/engine/lux/bootstrap/bootstrapper.go#258: Starting bootstrap...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34] api/server/server.go#203: adding route /ext/bc/2oYMBNV4eNHyqk2fjjV5nVQLDbtmNJzq5s3qs3Lo6ftnC6FByM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34] &lt;P Chain&gt; snow/engine/snowman/bootstrap/bootstrapper.go#445: waiting for the remaining chains in this subnet to finish syncing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34] api/server/server.go#203: adding route /ext/bc/2oYMBNV4eNHyqk2fjjV5nVQLDbtmNJzq5s3qs3Lo6ftnC6FByM/wallet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34] api/server/server.go#203: adding route /ext/bc/2oYMBNV4eNHyqk2fjjV5nVQLDbtmNJzq5s3qs3Lo6ftnC6FByM/events</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:34] &lt;P Chain&gt; snow/engine/common/bootstrapper.go#235: Bootstrapping started syncing with 1 vertices in the accepted frontier</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:46] &lt;X Chain&gt; snow/engine/common/bootstrapper.go#235: Bootstrapping started syncing with 2 vertices in the accepted frontier</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:49] &lt;C Chain&gt; snow/engine/common/bootstrapper.go#235: Bootstrapping started syncing with 1 vertices in the accepted frontier</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:49] &lt;X Chain&gt; snow/engine/lux/bootstrap/bootstrapper.go#473: bootstrapping fetched 55 vertices. Executing transaction state transitions...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:49] &lt;X Chain&gt; snow/engine/common/queue/jobs.go#171: executed 55 operations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:49] &lt;X Chain&gt; snow/engine/lux/bootstrap/bootstrapper.go#484: executing vertex state transitions...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|00:59:49] &lt;X Chain&gt; snow/engine/common/queue/jobs.go#171: executed 55 operations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO [02-09|01:00:07] &lt;C Chain&gt; snow/engine/snowman/bootstrap/bootstrapper.go#406: bootstrapping fetched 1241 blocks. Executing state transitions...</span><br></span></code></pre><div class="buttonGroup_UauG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_N3nO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_OX13"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_hEg0"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>At this point, the node will go into bootstrapping and (once bootstrapping
completes) resume consensus and operate as normal.</p>
<h2 class="anchor anchorWithStickyNavbar_lBvC" id="disk-space-considerations">Disk Space Considerations<a href="#disk-space-considerations" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>To ensure the node does not enter an inconsistent state, the bloom filter used
for pruning is persisted to <code>offline-pruning-data-directory</code> for the duration of
the operation. This directory should have <code>offline-pruning-bloom-filter-size</code>
available in disk space (default 512 MB).</p>
<p>The underlying database (LevelDB) uses deletion markers (tombstones) to identify
newly deleted keys. These markers are temporarily persisted to disk until they
are removed during a process known as compaction. This will lead to an increase
in disk usage during pruning. If your node runs out of disk space during
pruning, you may safely restart the pruning operation. This may succeed as
restarting the node triggers compaction.</p>
<p>If restarting the pruning operation does not succeed, additional disk space should be provisioned.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_CNxv padding--none margin-left--sm"><li class="tag_jKOw"><a class="tag_zRRt tagRegular_QHcs" href="/docs/tags/nodes">Nodes</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/luxfi/docs/edit/main/docs/nodes/maintain/run-offline-pruning.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit__Bgm" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_pihW"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/nodes/maintain/upgrade-your-luxd-node"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Upgrade Your Luxd Node</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/nodes/maintain/notify"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Enroll in Lux Notify</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_aCBG thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#finding-the-c-chain-config-file" class="table-of-contents__link toc-highlight">Finding the C-Chain Config File</a></li><li><a href="#running-offline-pruning" class="table-of-contents__link toc-highlight">Running Offline Pruning</a></li><li><a href="#disk-space-considerations" class="table-of-contents__link toc-highlight">Disk Space Considerations</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row"><div class="col"><div class="footer-row"><a href="https://lux.chat" target="_blank" rel="noopener noreferrer" class="footer-main-list"><h3>AI<!-- --> <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 512" class="footer-academy-cap" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"></path></svg></h3></a></div><div class="footer-row"><a href="https://explore.lux.network/" target="_blank" rel="noopener noreferrer" class="footer-main-list"><h3>Explore</h3></a></div><div class="footer-row"><a href="https://help.lux.network/" target="_blank" rel="noopener noreferrer" class="footer-main-list"><h3>Help</h3></a></div><div class="footer-row"><a href="https://wallet.lux.network/" target="_blank" rel="noopener noreferrer" class="footer-main-list"><h3>Wallet</h3></a></div></div><div class="col"><div class="footer-row"><a href="https://t.me/luxdefi"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="footer-social" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.287 5.906c-.778.324-2.334.994-4.666 2.01-.378.15-.577.298-.595.442-.03.243.275.339.69.47l.175.055c.408.133.958.288 1.243.294.26.006.549-.1.868-.32 2.179-1.471 3.304-2.214 3.374-2.23.05-.012.12-.026.166.016.047.041.042.12.037.141-.03.129-1.227 1.241-1.846 1.817-.193.18-.33.307-.358.336a8.154 8.154 0 0 1-.188.186c-.38.366-.664.64.015 1.088.327.216.589.393.85.571.284.194.568.387.936.629.093.06.183.125.27.187.331.236.63.448.997.414.214-.02.435-.22.547-.82.265-1.417.786-4.486.906-5.751a1.426 1.426 0 0 0-.013-.315.337.337 0 0 0-.114-.217.526.526 0 0 0-.31-.093c-.3.005-.763.166-2.984 1.09z"></path></svg></a><a href="https://discord.gg/MxFdWsQY"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="footer-social" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z"></path></svg></a><a href="https://github.com/luxfi"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="footer-social" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg></a><a href="https://twitter.com/luxdefi"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="footer-social" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"></path></svg></a><a href="https://www.reddit.com/r/luxdefi/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="footer-social" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M6.167 8a.831.831 0 0 0-.83.83c0 .459.372.84.83.831a.831.831 0 0 0 0-1.661zm1.843 3.647c.315 0 1.403-.038 1.976-.611a.232.232 0 0 0 0-.306.213.213 0 0 0-.306 0c-.353.363-1.126.487-1.67.487-.545 0-1.308-.124-1.671-.487a.213.213 0 0 0-.306 0 .213.213 0 0 0 0 .306c.564.563 1.652.61 1.977.61zm.992-2.807c0 .458.373.83.831.83.458 0 .83-.381.83-.83a.831.831 0 0 0-1.66 0z"></path><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.828-1.165c-.315 0-.602.124-.812.325-.801-.573-1.9-.945-3.121-.993l.534-2.501 1.738.372a.83.83 0 1 0 .83-.869.83.83 0 0 0-.744.468l-1.938-.41a.203.203 0 0 0-.153.028.186.186 0 0 0-.086.134l-.592 2.788c-1.24.038-2.358.41-3.17.992-.21-.2-.496-.324-.81-.324a1.163 1.163 0 0 0-.478 2.224c-.02.115-.029.23-.029.353 0 1.795 2.091 3.256 4.669 3.256 2.577 0 4.668-1.451 4.668-3.256 0-.114-.01-.238-.029-.353.401-.181.688-.592.688-1.069 0-.65-.525-1.165-1.165-1.165z"></path></svg></a><a href="https://www.youtube.com/@luxdefi"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="footer-social" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z"></path></svg></a><a href="https://www.linkedin.com/company/luxdefi"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="footer-social" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"></path></svg></a><a href="https://www.facebook.com/luxdefi"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="footer-social" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"></path></svg></a></div><div class="row" style="margin-top:10px;max-width:500px"><div class="col"><h4 class="footer-heading">Developers</h4><a href="https://github.com/orgs/luxfi/discussions"><div class="footer-list">Discussions</div></a><a href="https://explore.lux.network/stats"><div class="footer-list">Network Stats</div></a><a href="https://www.youtube.com/@luxdefi"><div class="footer-list">Video Tutorials</div></a><a href="https://hackenproof.com/luxdefi"><div class="footer-list">Bug Bounty</div></a></div><div class="col"><h4 class="footer-heading">Community</h4><a href="https://medium.com/luxdefi"><div class="footer-list">Medium</div></a><a href="https://blog.lux.network/"><div class="footer-list">Blog</div></a><a href="https://lux.shop/"><div class="footer-list">Merch</div></a></div><div class="col"><h4 class="footer-heading">More</h4><a href="https://drive.google.com/drive/folders/1vDXeyAeJUQLzeua447CT0Xn_h2YVq-6G"><div class="footer-list">Whitepapers</div></a><a href="https://lux.partners/"><div class="footer-list">Enterprise Solutions</div></a><a href="https://github.com/luxfi/audits"><div class="footer-list">Audits</div></a><a href="mailto:legal@lux.partners"><div class="footer-list">Legal</div></a></div></div></div></div><div class="footer__bottom text--center"><div class="footer__copyright" style="font-size:small;padding:15px">Copyright © <!-- -->2024<!-- --> <a href="https://lux.partners/terms" class="hover">Lux Partners Limited</a></div></div></div></footer></div>
</body>
</html>